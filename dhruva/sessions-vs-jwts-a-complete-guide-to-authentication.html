<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="Authentication or auth for short is the process where a server recognizes the identity of a user. This post goes over the methods for implementing authentication, each of their drawbacks, and which one you may want to choose."> <meta name="twitter:description" content="Authentication or auth for short is the process where a server recognizes the identity of a user. This post goes over the methods for implementing authentication, each of their drawbacks, and which one you may want to choose."> <meta property="og:description" content="Authentication or auth for short is the process where a server recognizes the identity of a user. This post goes over the methods for implementing authentication, each of their drawbacks, and which one you may want to choose."> <meta property="og:title" content="Sessions vs JWTs - A Complete Guide to Authentication"> <meta property="og:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1652269876694/PfE5eFaEj.png"> <meta property="og:image:alt" content="Sessions vs JWTs - A Complete Guide to Authentication"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@genicsblog"> <meta name="twitter:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1652269876694/PfE5eFaEj.png"> <meta name="twitter:creator" content="@carrotfarmer17"> <meta property="og:type" content="article"> <meta property="article:section" content="backend"> <meta property="article:tag" content="authentication, web-development, security"> <meta property="article:author" content="https://genicsblog.com/author/dhruva/"> <meta property="article:published_time" content="2022-05-14T00:00:00+0000"> <meta property="og:url" content="https://genicsblog.com/dhruva/sessions-vs-jwts-a-complete-guide-to-authentication"> <meta name="theme-color" content="#16161f"> <meta name="msapplication-TileColor" content="#16161f"> <meta name="msapplication-navbutton-color" content="#16161f"> <meta name="apple-mobile-web-app-status-bar-style" content="#16161f"> <link rel="canonical" href="https://blog.dhruva.is-a.dev/sessions-vs-jwts-a-complete-guide-to-authentication"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Sen&amp;display=swap" rel="stylesheet"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"> <link rel="stylesheet" href="/assets/css/theme.css"> <link rel="stylesheet" href="/assets/css/prism.css"> <link rel="manifest" href="/manifest.json"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-KQJM9Z9N1Z"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KQJM9Z9N1Z");</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8114751086331659" crossorigin="anonymous"></script> <script src="https://proxy.beyondwords.io/npm/@beyondwords/player@latest/dist/umd.js"></script> <title>Sessions vs JWTs - A Complete Guide to Authentication</title> </head> <body> <nav> <p class="bg-primary p-3 text-center text-white font-medium flex flex-col sm:block"> <span class="md:hidden px-1">Connect with us on discord to stay updated.</span> <span class="hidden md:inline px-1">Connect with us on discord to stay updated on the blog's development.</span> <a href="https://discord.genicsblog.com" target="_blank" class="font-bold underline header-anchor hover:text-slate-300" rel="nofollow noopener noreferrer"> Join &gt; </a> </p> <header class="w-full top-0 z-10" id="navbar"> <div class="bg-background max-h-20 py-1 px-3 sm:px-8 lg:px-8 mx-auto"> <div class="flex justify-between h-16"> <div class="flex lg:px-0"> <a class="group flex-shrink-0 flex items-center logo-anchor" href="/" aria-label="Home Page Link"> <div class="flex items-center space-x-2 whitespace-nowrap flex-nowrap"> <div class="h-8 w-8 md:mx-2"> <svg class="h-8 w-8 fill-white group-hover:fill-slate-300" viewbox="0 0 79.784508 91.197495" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2"></defs> <g id="layer1" transform="translate(-68.235445,-52.679805)"> <path id="path962" style=" stroke: none; stroke-width: 0.999999px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 408.73047,210.44336 -139.49414,80.59961 0.87109,162.49414 52.71289,-32.94922 85.34766,48.85938 87.42773,-48.85743 -0.63476,-53.22851 -84.8711,-0.88477 v 27.79297 h 56.02735 v 9.45508 l -58.31446,33.66797 -56.13085,-32.4082 0.63476,-66.94922 55.81836,-32.22461 57.25195,32.76172 82.41016,-47.75782 z m 0.43945,32.62695 83.28125,48.08203 -26.93555,15.55274 -57.21484,-33.0332 -84.18359,48.60351 v 66.39453 l -25.48047,14.71094 0.084,-96.54102 z" transform="scale(0.26458333)"></path> <path style=" stroke: none; stroke-width: 0.264583px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 81.889144,125.74786 26.204966,15.12944 36.92584,-21.31914 V 88.998204 l -7.22758,4.172845 V 115.03627 L 108.1902,132.12709 89.310794,121.22706 Z" id="path1416"></path> </g> </svg> </div> <span class="font-bold hidden sm:block text-xl tracking-tight text-white group-hover:text-slate-300"> Genics Blog</span> </div> </a> </div> <div class="flex items-center h-16"> <div class="hidden lg:block"> <a class="nav-item text-white" href="/topics">Topics</a> <a class="nav-item text-white" href="/about">About Us</a> <a class="nav-item text-white" href="/contact">Contact</a> <a class="nav-item text-white" target="_blank" href="https://docs.genicsblog.com">Docs</a> </div> <button onclick="showSearch()" aria-label="Search across the site..."> <svg xmlns="http://www.w3.org/2000/svg" class="ml-4 h-6 w-6 stroke-white hover:stroke-slate-300" fill="none" viewbox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </button> <button type="button" class="ml-2" onclick="saveTheme(isDark() ? LIGHT : DARK)" title="Ctrl + Shift + L"> <svg viewbox="0 0 512 512" class="h-8 w-8 fill-white hover:fill-slate-300 transition-all" id="theme-toggle-icon"> <g> <path d="M262.524,164.624c-49.466,0-89.592,40.119-89.592,89.596c0,49.487,40.126,89.606,89.592,89.606 c49.487,0,89.613-40.119,89.613-89.606C352.138,204.743,312.012,164.624,262.524,164.624z M262.524,320.136 c-36.39,0-65.902-29.513-65.902-65.916c0-36.396,29.513-65.903,65.902-65.903c36.41,0,65.924,29.506,65.924,65.903 C328.448,290.623,298.935,320.136,262.524,320.136z"></path> <path d="M264.078,149.221c0,0-39.031-73.758,0-73.758C303.103,75.462,264.078,149.221,264.078,149.221z"></path> <path d="M261.922,363.328c0,0,39.053,73.737,0,73.737C222.905,437.045,261.922,363.328,261.922,363.328z"></path> <path d="M186.536,331.194c0,0-24.539,79.766-52.142,52.148C106.817,355.746,186.536,331.194,186.536,331.194z"></path> <path d="M155.941,255.181c0,0-73.745,39.048-73.745,0C82.224,216.177,155.941,255.181,155.941,255.181z"></path> <path d="M188.068,179.794c0,0-79.746-24.524-52.142-52.142C163.503,100.086,188.068,179.794,188.068,179.794z"></path> <path d="M428.852,254.552c0,49.668-40.276,89.931-89.935,89.931c-49.657,0-89.928-40.263-89.928-89.931 c0-49.672,40.271-89.928,89.928-89.928C388.575,164.624,428.852,204.88,428.852,254.552z"></path> </g> </svg> </button> <a class="ml-2 md:ml-4 px-2.5 py-1.5 font-bold rounded-md text-black bg-white hover:bg-slate-300 hover:scale-110 transition underline-none" href="/contribute">Contribute</a> <div class="ml-4 lg:hidden cursor-pointer"> <div id="menu-btn" class="h-8 w-8 relative" onclick="toggleNav()"> <div class="menu-btn-lines"></div> </div> </div> </div> </div> </div> <div class="top-0 bg-background hidden p-6 lg:hidden" id="mobile-nav"> <div class="grid grid-cols-2 gap-y-2 gap-x-4"> <a class="group mobile-nav-item " href="/topics"> <span class="group-hover:text-white">Topics</span> </a> <a class="group mobile-nav-item " href="/about"> <span class="group-hover:text-white">About Us</span> </a> <a class="group mobile-nav-item " href="/contact"> <span class="group-hover:text-white">Contact</span> </a> <a class="group mobile-nav-item" href="https://docs.genicsblog.com" target="_blank"> <span class="group-hover:text-white">Documentation</span> </a> </div> </div> </header> </nav> <header class="banner"> <div class="flex flex-col lg:flex-row p-2"> <div class="flex justify-center items-center lg:w-1/2 md:mb-0"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1652269876694/PfE5eFaEj.png" class="m-8 w-full rounded-xl shadow-xl aspect-video max-w-3xl" loading="lazy"> </div> <div class="flex flex-col justify-center lg:items-start w-full lg:w-1/2 lg:ml-12 max-w-3xl"> <h1 class="text-4xl font-black tracking-tight">Sessions vs JWTs - A Complete Guide to Authentication</h1> <span class="mt-0.5 text-justify">Authentication or auth for short is the process where a server recognizes the identity of a user. This post goes over the methods for implementing authentication, each of their drawbacks, and which one you may want to choose.</span> <div class="flex items-center mt-8"> <a class="underline-none" href="/author/dhruva/"> <img class="rounded-full w-14 h-14" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/66675022" loading="lazy"> </a> <div class="ml-4 leading-3"> <a class="font-extrabold text-xl" href="/author/dhruva/"> Dhruva Srinivas </a> <br> <span class="text-sm"> Posted on May 14, 2022 </span> </div> </div> <div class="mt-8"> <span>Category: </span> <a class="text-sm ml-2 archive-name !bg-backend underline-none" href="/category/backend">#backend</a> </div> <div class="mt-4 sm:mt-3"> <span>Tags: </span> <a class="text-sm ml-2 my-0.5 archive-name !bg-authentication underline-none" href="/tag/authentication">#authentication</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-web-development underline-none" href="/tag/web-development">#web-development</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-security underline-none" href="/tag/security">#security</a> </div> </div> </div> </header> <main> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <section class="lg:flex lg:justify-center"> <div class="content-area elevated"> <div class="notice"> <span class="text-base italic leading-8"> Originally published at <a href="https://blog.dhruva.is-a.dev/sessions-vs-jwts-a-complete-guide-to-authentication" target="_blank" rel="nofollow noopener noreferrer">blog.dhruva.is-a.dev</a>. </span> </div> <article class="p-6 md:p-8"> <div class="mb-6" id="audio-player" data-audio-id="4175001"></div> <p data-beyondwords-marker="82fc7bc8-8d4d-4ebb-873a-5c80a7bb8214">Hello, in this post I will go over authentication, various methods to implement it, each of their drawbacks, and which one you may want to use! Let‚Äôs get started!</p> <h2 id="what-is-authentication" data-beyondwords-marker="64c464f6-7265-4477-a590-c240260c1ddc">What is Authentication?</h2> <p data-beyondwords-marker="53e54d3e-2bc0-4f8a-96e3-301149285aaf">Authentication or auth for short is the process where a server recognizes <strong>the identity of a user</strong>. Authorization is then done, to allocate a role to the authenticated user and allocate the required services to that particular user.</p> <p data-beyondwords-marker="fda60e43-583c-441c-a0df-b37dbc00c955">There are 2 ways you can implement auth:</p> <ul> <li data-beyondwords-marker="33ddcc56-d6a9-40b3-a5ba-40a46215f4a0">Sessions</li> <li data-beyondwords-marker="a6a95845-2c27-4974-a2be-9c50b667d555">JSON Web Tokens</li> </ul> <p data-beyondwords-marker="55f71401-3873-4e3b-b91d-fb1a35e6dce0">Let‚Äôs take a deep dive into sessions!</p> <h2 id="sessions" data-beyondwords-marker="f3fcaf3a-39f3-43be-beb3-14cecac419f5">Sessions</h2> <p data-beyondwords-marker="bfe1e10b-a2ef-4b7b-a24d-9f4f7dff8274">Server-side sessions were the traditional way to implement auth. The flow of a session can be illustrated like this:</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1652199081833/Xut5oskzV.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="7863bfe6-26d8-4435-b56f-0567536308ee">The process begins with the client:</p> <ul> <li data-beyondwords-marker="65ce2ea1-f189-447a-bb02-c9952cef8138">Receiving an e-mail and a password</li> <li data-beyondwords-marker="8e121ec3-d19c-472f-a251-8d44ed392ac1">Then, hashing the password</li> <li data-beyondwords-marker="30c82a94-e2f8-4156-9e46-3cff9ae2a560">And sending the e-mail and the hashed password to the server</li> </ul> <p data-beyondwords-marker="c546177b-cbe2-4a24-a036-b9032a0ce792">Hashing is the process of <strong>scrambling</strong> a value using a key that is sent to an algorithm. <strong>Hashed values can‚Äôt be decrypted!</strong></p> <p data-beyondwords-marker="7c493757-eebf-4bb7-800d-9c113e2bf854"><a href="https://argon2.online" rel="nofollow noopener noreferrer" target="_blank">Argon2</a> is an extremely secure hashing algorithm that can be used to hash passwords.</p> <p data-beyondwords-marker="bed4f822-b687-4384-bcba-fef953d2f0d2">While validating the credentials, the server hashes the given password, and the hash stored in the database (during register) and compares both of them. If the hashes match, the server then sends a request to the <strong>session store</strong> for the session ID.</p> <p data-beyondwords-marker="1e9a06a7-3b07-42e8-bc8e-19b23ce442f8">A session store is a medium where data related to the logged-in user is stored. It could be in memory or a database. <a href="https://redis.com" rel="nofollow noopener noreferrer" target="_blank">Redis</a> is commonly used as a session store because of its speed.</p> <p data-beyondwords-marker="93bb79be-094f-4a3f-a99c-f0cca6675f22">The session data contains anything linked to the user who is logged in. It could be the <code class="language-plaintext highlighter-rouge">userId</code> or any field that is unique to the user.</p> <p data-beyondwords-marker="f7a60f3b-1bcd-4582-aac6-9f216f0c1f63">This session ID is then sent back to the server, which in turn, sends the ID of the session to the client in the form of a <strong>cookie</strong>. Data on the user can then be accessed using this session ID which the store can query.</p> <p data-beyondwords-marker="926d61d1-bd07-42b4-a4c6-34d1c16a926a">To log the user out, you can destroy the cookie and delete the key-value pair associated with the session ID in the store.</p> <p data-beyondwords-marker="2a0ea235-b2af-4736-a426-8e59ce40ec02">Now let‚Äôs take a look at JSON Web Tokens.</p> <h2 id="json-web-tokens-jwts" data-beyondwords-marker="8b52be97-6e09-4057-a5cf-621d4590dbef">JSON Web Tokens (JWTs)</h2> <p data-beyondwords-marker="7ce1ba81-380d-432c-b672-5a5f1438851b">JWTs take a completely different approach to solving the problem. Authentication is done on the <strong>client-side</strong> here, rather than in the <strong>server</strong> like in sessions.</p> <p data-beyondwords-marker="ba5cbbd6-8bef-4c64-b3ba-3dde8e8cfbe7">The process can be illustrated in this way:</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1652256338392/ET6Zrh480.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="87553c3c-d41e-4d7b-9a8f-2c370420f74b">It begins the same way as in sessions, but instead of asking the session store for a session ID, the server issues a <strong>JWT access token</strong> with a JWT Secret.</p> <p data-beyondwords-marker="eb14f27e-2183-4e3e-a7d8-b9d275c12bf1">This token is relayed back to the client and should ideally be stored in a cookie. The JWT is not <strong>private</strong> and it should <strong>NOT</strong> contain private information like the hashed password. A token should just contain the user ID or other types of unique, non-jeopardizing data.</p> <p data-beyondwords-marker="84564aca-9e6e-4f0d-bf7e-722b71dd8bb8">The JWT can then be used as an <strong>Authorization Header‚Äôs Bearer Token</strong> that can be used to run queries that require auth. This JWT can be validated in the server during requests. Since the secret remains private a JWT cannot be forged. To log a user out, the cookie can be destroyed.</p> <p data-beyondwords-marker="ee2a7292-21e6-4802-8226-5c98c0201ff9">To keep the app secure, JWT tokens should be short-lived. Another token called a <strong>refresh token</strong> should be signed on login, which can renew the access token when it expires.</p> <p data-beyondwords-marker="2d77268f-f781-4d25-b607-8e90da7870ee">When a client sends a request with an expired access token, the server would use the given refresh token and use it to generate a new access token. This way, if an attacker gets hold of an access token, the validity of that token is very short.</p> <blockquote> <p data-beyondwords-marker="ce4dec13-8019-4ffc-8d1b-7d7a39edc2fa"><strong>Note: Do NOT store JWTs in localStorage!</strong></p> </blockquote> <p data-beyondwords-marker="ac47de1f-dbdf-4bb8-934b-43bb0c427242">Storing JWTs in <code class="language-plaintext highlighter-rouge">localStorage</code> can make the app vulnerable to what‚Äôs known as an <strong>XSS Attack (Cross-Site Scripting)</strong>.</p> <p data-beyondwords-marker="a917f5b5-4335-450e-92a4-778e19b20829">It is a type of code injection where malicious code is injected into a website using another web application.</p> <h2 id="pros-and-cons-of-using-sessions" data-beyondwords-marker="9e469a9f-15bc-464b-a3f0-a06db5036ce0">Pros and Cons of using Sessions</h2> <h3 id="more-controlflexibility" data-beyondwords-marker="5f1bf171-5179-454b-8bf6-ac6ce2d00bed">More Control/Flexibility</h3> <p data-beyondwords-marker="5e47f52a-1311-4f0d-88b2-0876fd371610">Sessions give the developer more control over the app. If there is a breach, then you can immediately delete the session from the store, whereas blacklisting JWTs is tricky, and in the worst-case scenario, you would just have to wait for the token to expire.</p> <h3 id="easy-to-implement" data-beyondwords-marker="5e743b09-1dc8-469c-9e4b-2da629a61b90">Easy to Implement</h3> <p data-beyondwords-marker="dd8079b2-9b9e-47ef-9917-6c9db5bb5882">Since session IDs are stored in cookies, there is no need to provide any request headers. This is because cookies are supported automatically by browsers and all cookies are sent as part of the request to all websites.</p> <p data-beyondwords-marker="ffe81a2f-463a-40da-89ee-60afa2944a95">It also reduces bandwidth usage when compared to JWT, since there is no need to send the token back and forth for every request made by the client. Cookies can also introduce a vulnerability for <strong>CSRF (Cross-Site Request Forgery) attacks</strong>.</p> <p data-beyondwords-marker="3b7c0323-b524-484e-9658-3d2d20d55994">This happens when requests through a malicious site force authenticated users on other websites to submit a request to the malicious website and get access to their credentials. This can be prevented by setting the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite" rel="nofollow noopener noreferrer" target="_blank"><code class="language-plaintext highlighter-rouge">SameSite</code></a> cookie option to <strong>lax</strong>.</p> <p data-beyondwords-marker="2e248c29-47fc-4fd6-85e6-52236789f554">SameSite decides if the cookie should be sent only to the origin website.</p> <h3 id="security" data-beyondwords-marker="96590a0a-7acc-4ff9-9467-8132eb736c96">Security</h3> <p data-beyondwords-marker="d414c93b-0c08-4ab3-91f7-8285740a145d">Session stores are not public and are stored remotely on a server, hence rendering the session data to be safe. In the case of JWTs, the tokens are relayed on every request and can be intercepted. Sessions are, in most cases, safer than using JWTs</p> <h3 id="scalability-issues" data-beyondwords-marker="ef9973e0-5c64-40ae-9922-c47bb5bec141">Scalability Issues</h3> <p data-beyondwords-marker="4db57aeb-de8b-485e-b2e2-16ced0401cec">Sessions can be a pain to scale because there is a requirement for a place to host the session store. You will need to store more data on the store when more users authenticate and this will take a load on the server which can be expensive depending on what hosting solution you go with.</p> <h2 id="pros-and-cons-of-using-jwts" data-beyondwords-marker="d173b61d-c882-42b0-82a0-ea8a7235a042">Pros and Cons of using JWTs</h2> <h3 id="scalable" data-beyondwords-marker="28890fc1-0625-4717-aa30-b127fac5a378">Scalable</h3> <p data-beyondwords-marker="37942267-8a00-40c1-a6fd-d4ca2398fe55">Since JWTs store nothing on the server, it is stateless and scalable. As the user base grows, JWTs can scale since there is no overhead of requiring a store on the server.</p> <h3 id="you-can-not-worry-about-a-lot-of-stuff" data-beyondwords-marker="28d1cb5b-b7da-4460-969f-4bce8b85a96d">You can ‚Äúnot-worry‚Äù about a lot of stuff</h3> <ul> <li data-beyondwords-marker="1ea47c8f-a124-45cd-9087-8187f3387706"> <strong>CORS</strong>: Cross-Origin Resource Sharing</li> <li data-beyondwords-marker="db88da00-cb74-487a-8e7f-9e49b6318751">Domain Migration</li> <li data-beyondwords-marker="e34283b1-468f-48e6-841a-62a4297d8073">Portability: With sessions, you need a cookie store that only browsers have. You can use tokens while making clients for other devices too. But then you would have to resort to a different place to store the token on the client.</li> </ul> <h3 id="you-cant-truly-log-a-user-out" data-beyondwords-marker="b959e703-d08c-4d9e-a60a-c9cf356c3aec">You can‚Äôt truly log a user out</h3> <p data-beyondwords-marker="394a9cca-f42e-405f-84de-c5492ec97afa">You‚Äôd normally log a user out by removing the cookie with the access token in it. But this doesn‚Äôt ensure the <strong>validity of the access token</strong>. If an attacker gets hold of the token, he/she can still make requests to the server and do bad stuff.</p> <p data-beyondwords-marker="4c0f8e4a-74b7-4f21-a851-d2dadad1faf5">To prevent such things, you have to implement a blacklist system, where if you get a report of a stolen token, you add that token to a blacklist, and any request with a blacklisted token will be blocked.</p> <p data-beyondwords-marker="cb73b9f8-d9c3-40fb-ab2f-43a343849a49">Simply removing the token from the hands of the client doesn‚Äôt solve the problem. You could introduce a refresh token, but then again that‚Äôs another token to deal with ;)</p> <h3 id="they-are-heavy" data-beyondwords-marker="23743d5e-7a7c-4fd0-8f1c-3b0afaef7408">They are heavy</h3> <p data-beyondwords-marker="f9992eaa-b08b-48af-9855-8b6e64b96149">If you store a lot of junk on your token, you may exceed the size limit for a cookie. And I already told you why storing them on <code class="language-plaintext highlighter-rouge">localStorage</code> is probably a bad idea.. (CSRF <em>wink, wink</em>)</p> <h3 id="security-1" data-beyondwords-marker="133c53c4-0bce-4524-a63d-25a6a6924db5">Security</h3> <p data-beyondwords-marker="4eaadff1-2590-4aa0-8452-39a52781a0fc">JWTs are simply put, <em>not</em> secure. They can easily be intercepted and decrypted (Literally all you have to do is paste the token into a site like <a href="https://jwt.io" rel="nofollow noopener noreferrer" target="_blank">this</a> and you can get the user data inside it). This is exactly why you should never store any sensitive data in a token.</p> <p data-beyondwords-marker="ca8f3650-5135-40f3-b182-5e8fdbc12b9e">Just store the required credentials that will allow the server to know who the user is. Something simple like a <code class="language-plaintext highlighter-rouge">userId</code>.</p> <h2 id="which-one-should-you-use" data-beyondwords-marker="b1470e20-042c-4cea-93a1-f77d8a99fffd">Which one should you use?</h2> <p data-beyondwords-marker="4c6cfa2f-69c8-4f53-99d7-f3dee0f0d80c">It‚Äôs all your choice. I prefer to use sessions since they are easy to implement (I don‚Äôt have to worry about refresh tokens, blacklists, etc.) and are more secure (only the session ID is sent through an HTTP-Only, SameSite cookie).</p> <p data-beyondwords-marker="22774ce5-6ad7-47cf-aa2c-2864e8ab6e6a">I don‚Äôt find scalability to be an issue, especially with platforms like <a href="https://railway.app" rel="nofollow noopener noreferrer" target="_blank">Railway</a> providing a good free plan (not sponsored!). If you have a large user base, and you are willing to spend a bit of money on a VPS or a paid cloud service, definitely go with sessions.</p> <p data-beyondwords-marker="bc2244b3-3e6c-4170-a25c-0c2f960a9289">Before I wrap up, here‚Äôs a list of resources that can help you with implementing auth and going a bit deeper into the topics discussed in this article.</p> <h2 id="resources" data-beyondwords-marker="5722e97f-5a6e-4966-abf6-438fe197e824">Resources</h2> <ul> <li data-beyondwords-marker="c3b8fe14-82eb-4b58-9a5d-0087d52e5682"><a href="http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/" rel="nofollow noopener noreferrer" target="_blank">Stop using JWT for sessions</a></li> <li data-beyondwords-marker="09798756-c93c-4e5c-9eb4-20b282164cdc"><a href="https://www.youtube.com/watch?v=o9hT7v0OLJc" rel="nofollow noopener noreferrer" target="_blank">JWT vs Cookies for Authentication</a></li> <li data-beyondwords-marker="b41b0e74-76ac-4b81-9a59-b955bbfcbc5e"><a href="https://www.loginradius.com/blog/engineering/guest-post/jwt-vs-sessions/" rel="nofollow noopener noreferrer" target="_blank">How to Authenticate Users: JWT vs. Session</a></li> <li data-beyondwords-marker="68e2eb05-25aa-431c-9b38-a35b46853f8d"><a href="https://www.npmjs.com/package//argon2" rel="nofollow noopener noreferrer" target="_blank">argon2 npm</a></li> <li data-beyondwords-marker="7e664193-eea1-42c1-8ab2-9a1bdaba7b92"><a href="https://www.npmjs.com/package/express-session" rel="nofollow noopener noreferrer" target="_blank">express session middleware</a></li> <li data-beyondwords-marker="81fca748-ab73-483c-8742-ca2adb0dfb79"><a href="https://www.npmjs.com/package/connect-redis" rel="nofollow noopener noreferrer" target="_blank">redis session storage for express</a></li> <li data-beyondwords-marker="8da800bd-a7ac-4588-9d6c-05f4c153719f"><a href="https://www.npmjs.com/package/express-jwt" rel="nofollow noopener noreferrer" target="_blank">express-jwt</a></li> <li data-beyondwords-marker="8f3be5ba-bb15-457b-a51b-b88568db0c9e"><a href="https://www.passportjs.org/" rel="nofollow noopener noreferrer" target="_blank">passport-js</a></li> <li data-beyondwords-marker="29869305-5fb7-4d22-9623-3b7fdf904176"><a href="https://www.jamesqquick.com/blog/the-easiest-way-to-add-node-js-user-authentication" rel="nofollow noopener noreferrer" target="_blank">The Easiest Way to Add Node.js User Authentication: James Q Quick</a></li> <li data-beyondwords-marker="81eff4d8-913e-4bbd-9f4c-d94214805e3d"><a href="https://owasp.org/www-community/attacks/xss/" rel="nofollow noopener noreferrer" target="_blank">XSS Attacks</a></li> <li data-beyondwords-marker="e05b3a3e-b1b3-47c5-a7f5-aeb810a22e82"><a href="https://portswigger.net/web-security/csrf" rel="nofollow noopener noreferrer" target="_blank">CSRF Attacks and how to prevent them</a></li> </ul> <p data-beyondwords-marker="58841def-54a2-44f3-9f89-439b70043049">And that‚Äôs it for this post, see you on the next one!</p> </article> <hr> <div class="px-6 pb-6 md:px-8 md:pb-8 flex flex-col items-center rounded-bl-2xl rounded-br-2xl"> <p class="text-center mb-4"> Join discussions at <a href="https://discord.genicsblog.com" target="_blank" class="cta-link"> our discord server &gt; </a> <br> Did you learn something new? Add a comment below and spread the word! </p> <div class="grid grid-flow-col gap-6"> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://facebook.com/sharer.php?u=https://genicsblog.com/dhruva/sessions-vs-jwts-a-complete-guide-to-authentication" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/facebook.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://api.whatsapp.com/send?text=Checkout%20this%20amazing%20article%20at%20Genics%20Blog%20'Sessions%20vs%20JWTs%20-%20A%20Complete%20Guide%20to%20Authentication':%20https://genicsblog.com/dhruva/sessions-vs-jwts-a-complete-guide-to-authentication" onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/whatsapp.svg" class="social-image w-10 h-10" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://genicsblog.com/dhruva/sessions-vs-jwts-a-complete-guide-to-authentication" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/linkedin.svg" class="social-image w-7 h-7" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://twitter.com/intent/tweet?text=Check%20out%20this%20amazing%20article%20by%20@carrotfarmer17%20at%20@genicsblog:%20Sessions%20vs%20JWTs%20-%20A%20Complete%20Guide%20to%20Authentication&amp;url=https://genicsblog.com/dhruva/sessions-vs-jwts-a-complete-guide-to-authentication" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://www.snapchat.com/scan?attachmentUrl=https://genicsblog.com/dhruva/sessions-vs-jwts-a-complete-guide-to-authentication" onclick="window.open(this.href, 'snapchat-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/snapchat.svg" class="social-image w-14 h-14 -m-2" loading="lazy"> </a> </div> </div> </div> <aside class="sidebar-area"> <figure class="p-6 md:p-8 elevated"> <a class="underline-none" href="/author/dhruva/"> <img class="w-24 h-24 rounded-full mx-auto" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/66675022" alt="Dhruva Srinivas" loading="lazy"> </a> <div class="pt-4 space-y-4"> <figcaption class="font-medium text-center"> <div> <a href="/author/dhruva/" class="text-xl font-bold"> Dhruva Srinivas </a> </div> <div class="text-slate-700 dark:text-slate-200 text-sm"> Fullstack web dev &amp; student </div> </figcaption> <p class="leading-5 font-medium text-justify">13 y/o web developer and programming enthusiast</p> </div> </figure> <div class="adverts-container"> <figure class="advert elevated"> <div align="center"> <ins class="adsbygoogle" data-ad-client="ca-pub-8114751086331659" data-ad-slot="8698895132" style="display:inline-block; min-width:150px; max-width:310px; width:100%; height:600px"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </figure> <figure class="sponsor elevated lg:sticky lg:top-24"> <img src="https://dash.beyondwords.io/logo-dark.svg" class="logo hidden dark:block" loading="lazy"> <img src="https://dash.beyondwords.io/logo.svg" class="logo dark:hidden" loading="lazy"> <h4 class="mt-4"> BeyondWords <span class="text-xs text-white px-3 py-1 align-middle rounded-xl bg-primary">Sponsored</span> </h4> <p>BeyondWords is an AI voice and audio publishing platform that brings frictionless audio to writers, newsrooms, and businesses!</p> <div class="flex justify-center"> <a class="px-3 py-1 mt-4 linkbtn underline-none" href="https://beyondwords.io?utm_source=genicsblog.com&amp;utm_medium=cpc&amp;utm_campaign=advertisement" rel="nofollow" target="_blank"> Check it out &gt; </a> </div> </figure> </div> </aside> </section> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <div class="cta elevated"> <div class="p-8 md:p-10 grid grid-flow-row sm:grid-flow-col gap-x-8 items-center justify-between"> <section class="md:mr-4"> <h3>Contribute to the Genics Blog!</h3> <p> Genics Blog is a purely <a href="https://github.com/genicsblog" rel="nofollow noreferrer noopener" target="_blank" class="cta-link">open source</a> publication. Authors at Genics post highly resourceful content on varied topics relevant to the developer community. Join us and start publishing today! </p> </section> <a class="px-4 py-1.5 mt-8 md:mt-0 md:ml-4 linkbtn underline-none font-bold text-lg" href="/contribute"> Contribute </a> </div> </div> <h1 class="mt-12 mx-6 lg:mx-10 xl:mx-14">Comments</h1> <section class="lg:flex lg:justify-center"> <div id="comments" class="content-area"></div> <aside class="sidebar-area"> <div class="p-6 space-y-4 lg:sticky lg:top-24 elevated"> <p class="leading-5 font-medium text-justify"> Please adhere to our <a href="/code-of-conduct">Code of Conduct</a> while adding a comment. Respect other's opinion. </p> </div> </aside> </section> <div class="m-8 md:m-10 lg:m-14"> <div class="flex justify-center"> <h2>Related content</h2> </div> <div class="flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-4 md:gap-4 lg:gap-6 text-center"> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-web dark:hover:!border-web underline-none" href="/gouravkhunger/9-hand-picked-free-heroku-alternative-hosting-platforms"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://github-production-user-asset-6210df.s3.amazonaws.com/46792249/248472961-50430fff-be12-42ad-b556-77827be62fc0.jpg" alt="9 Hand Picked FREE Heroku Alternative Hosting Platforms [2023]" title="9 Hand Picked FREE Heroku Alternative Hosting Platforms [2023]" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">9 Hand Picked FREE Heroku Alternative Hosting Platforms [2023]</h2> <p class="line-clamp-3">Heroku has shut down their free tier and the free dynos began being deleted starting November 28, 2022. Here are top 9 alternatives to Heroku free plan to deploy your APIs and Websites seamlessly, without any restrictions!</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/46792249" alt="Gourav Khunger's Profile Picture" title="Gourav Khunger's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Gourav</span> </div> <span>Jun 24, 2023</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-frontend dark:hover:!border-frontend underline-none" href="/dhruva/chakra-ui-is-awesome"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://user-images.githubusercontent.com/46792249/194068868-31884742-ea9c-428e-8f57-3de2ea6dc8e9.png" alt="Chakra UI is awesome!" title="Chakra UI is awesome!" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">Chakra UI is awesome!</h2> <p class="line-clamp-3">Chakra UI is an absolutely amazing UI library built for React. It consists of a plethora of components that you can use as building blocks for a beautiful and responsive front end.</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/66675022" alt="Dhruva Srinivas's Profile Picture" title="Dhruva Srinivas's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Dhruva</span> </div> <span>Oct 5, 2022</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-web dark:hover:!border-web underline-none" href="/avneesh/how-not-to-write-clean-code-in-react"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://user-images.githubusercontent.com/76690419/174092726-03b0760f-1385-45f9-9680-9c617ff3adef.png" alt="How not to write clean code in React? üßπ" title="How not to write clean code in React? üßπ" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">How not to write clean code in React? üßπ</h2> <p class="line-clamp-3">A few ways to *not* clean code and maintainable in React!</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/76690419" alt="Avneesh Agarwal's Profile Picture" title="Avneesh Agarwal's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Avneesh</span> </div> <span>Jun 17, 2022</span> </div> </div> </a> </div> </div> </main> <footer class="px-12 py-8 text-center"> <div class="flex justify-center"> <a aria-label="Genics Blog's Discord server" class="mr-2 underline-none hover:scale-125 transition" href="https://discord.genicsblog.com" target="_blank"> <img alt="Discord's logo" src="/assets/images/social/discord.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's GitHub organization" class="mx-4 underline-none hover:scale-125 transition" href="https://github.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="GitHub's logo" src="/assets/images/social/github.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's Twitter page" class="ml-2 underline-none hover:scale-125 transition" href="https://twitter.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="Twitter's logo" src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> </div> <br> ¬© 2021 <a href="/">Genics Blog</a> <br> Built with <a href="https://jekyllrb.com" target="_blank" rel="nofollow noopener noreferrer">Jekyll</a>. Hosted on <a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">GitHub</a>. <br><br> Developed by <a href="https://github.com/gouravkhunger" rel="nofollow noopener noreferrer" target="_blank"> Gourav Khunger</a>. Thanks to the <a href="https://github.com/genicsblog/genicsblog.com/graphs/contributors" rel="nofollow noopener noreferrer" target="_blank"> contributors</a>! <br><br> <a class="nav-item text-white" href="/terms">T&amp;C</a> <a class="nav-item text-white" href="/privacy-policy">Privacy Policy</a> <a class="nav-item text-white" href="/licensing">Licensing</a> </footer> <div class="hidden fixed top-0 w-full h-full p-6 md:p-14 backdrop-blur-md cursor-pointer z-20" id="search-container"> <div class="p-4 bg-white dark:bg-slate-800 mx-auto w-full max-h-full sm:w-3/4 lg:w-1/2 content-center rounded-lg shadow-md shadow-slate-200 dark:shadow-none cursor-auto overflow-auto" id="search-box"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-slate-400" fill="none" viewbox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <input type="text" class="w-full h-full pl-4 text-2xl outline-none dark:bg-slate-800" id="search-input" placeholder="Search..."> <span class="hidden lg:block text-sm text-gray-600 text-right tracking-tight ml-2"> <kbd class="bg-gray-200 dark:bg-slate-600 dark:text-gray-200 rounded-md shadow-sm py-1 px-2">Esc</kbd> </span> </div> <div id="results-container"></div> </div> </div> <script src="/assets/js/theme.js" data-no-instant></script> <script src="/assets/js/search.js" data-no-instant></script> <script src="/assets/js/prism.js" data-no-instant></script> <script src="/assets/js/instantclick.min.js" data-no-instant></script> <script data-no-instant>InstantClick.on("change",()=>{setTheme(),Prism.highlightAll(),initCodeBlocks(),window.onscroll=(()=>{setStickyness()}),document.getElementById("search-container").addEventListener("click",t=>{"search-container"===t.target.id&&hideSearch()});const t=window.location.pathname+window.location.search+window.location.hash;gtag("set","page_path",t);const e=document.getElementById("audio-player");if(e)new BeyondWords.Player({projectId:11987,target:e,playerStyle:"large",widgetStyle:"small",skipButtonStyle:"seconds",highlightColor:isDark()?DARK_HIGHLIGHT:LIGHT_HIGHLIGHT,contentId:e.dataset.audioId});const n=document.getElementById("comments");if(n){const t={src:"https://giscus.app/client.js","data-repo":"genicsblog/comments","data-repo-id":"R_kgDOG0-Vlw","data-category":"Announcements","data-category-id":"DIC_kwDOG0-Vl84CP8Dz","data-mapping":"pathname","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":`${isDark()?GISCUS_DARK:GISCUS_LIGHT}`,"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");for(key in t)e.setAttribute(key,t[key]);n.appendChild(e)}}),InstantClick.on("receive",()=>{BeyondWords.Player.destroyAll(),"function"==typeof window.cleanup&&(window.cleanup(),window.cleanup())}),InstantClick.init("mousedown");</script> </body> </html>