<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="This article explains how to increase an android app's accessibility by providing users the option to choose from a variety of fonts that suite their need."> <meta name="twitter:description" content="This article explains how to increase an android app's accessibility by providing users the option to choose from a variety of fonts that suite their need."> <meta property="og:description" content="This article explains how to increase an android app's accessibility by providing users the option to choose from a variety of fonts that suite their need."> <meta property="og:title" content="How to Support Multiple Fonts in an Android App"> <meta property="og:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1636226069099/jLbjyNOXm.png"> <meta property="og:image:alt" content="How to Support Multiple Fonts in an Android App"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@genicsblog"> <meta name="twitter:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1636226069099/jLbjyNOXm.png"> <meta name="twitter:creator" content="@gourav_khunger"> <meta property="og:type" content="article"> <meta property="article:section" content="android"> <meta property="article:tag" content="app-development, libraries, a11y"> <meta property="article:author" content="https://genicsblog.com/author/gouravkhunger/"> <meta property="article:published_time" content="2021-11-07T00:00:00+0000"> <meta property="og:url" content="https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app"> <meta name="theme-color" content="#16161f"> <meta name="msapplication-TileColor" content="#16161f"> <meta name="msapplication-navbutton-color" content="#16161f"> <meta name="apple-mobile-web-app-status-bar-style" content="#16161f"> <link rel="canonical" href="https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Sen&amp;display=swap" rel="stylesheet"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"> <link rel="stylesheet" href="/assets/css/theme.css"> <link rel="stylesheet" href="/assets/css/prism.css"> <link rel="manifest" href="/manifest.json"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-KQJM9Z9N1Z"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KQJM9Z9N1Z");</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8114751086331659" crossorigin="anonymous"></script> <script src="https://proxy.beyondwords.io/npm/@beyondwords/player@latest/dist/umd.js"></script> <title>How to Support Multiple Fonts in an Android App</title> </head> <body> <nav> <p class="bg-primary p-3 text-center text-white font-medium flex flex-col sm:block"> <span class="md:hidden px-1">Connect with us on discord to stay updated.</span> <span class="hidden md:inline px-1">Connect with us on discord to stay updated on the blog's development.</span> <a href="https://discord.genicsblog.com" target="_blank" class="font-bold underline header-anchor hover:text-slate-300" rel="nofollow noopener noreferrer"> Join &gt; </a> </p> <header class="w-full top-0 z-10" id="navbar"> <div class="bg-background max-h-20 py-1 px-3 sm:px-8 lg:px-8 mx-auto"> <div class="flex justify-between h-16"> <div class="flex lg:px-0"> <a class="group flex-shrink-0 flex items-center logo-anchor" href="/" aria-label="Home Page Link"> <div class="flex items-center space-x-2 whitespace-nowrap flex-nowrap"> <div class="h-8 w-8 md:mx-2"> <svg class="h-8 w-8 fill-white group-hover:fill-slate-300" viewbox="0 0 79.784508 91.197495" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2"></defs> <g id="layer1" transform="translate(-68.235445,-52.679805)"> <path id="path962" style=" stroke: none; stroke-width: 0.999999px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 408.73047,210.44336 -139.49414,80.59961 0.87109,162.49414 52.71289,-32.94922 85.34766,48.85938 87.42773,-48.85743 -0.63476,-53.22851 -84.8711,-0.88477 v 27.79297 h 56.02735 v 9.45508 l -58.31446,33.66797 -56.13085,-32.4082 0.63476,-66.94922 55.81836,-32.22461 57.25195,32.76172 82.41016,-47.75782 z m 0.43945,32.62695 83.28125,48.08203 -26.93555,15.55274 -57.21484,-33.0332 -84.18359,48.60351 v 66.39453 l -25.48047,14.71094 0.084,-96.54102 z" transform="scale(0.26458333)"></path> <path style=" stroke: none; stroke-width: 0.264583px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 81.889144,125.74786 26.204966,15.12944 36.92584,-21.31914 V 88.998204 l -7.22758,4.172845 V 115.03627 L 108.1902,132.12709 89.310794,121.22706 Z" id="path1416"></path> </g> </svg> </div> <span class="font-bold hidden sm:block text-xl tracking-tight text-white group-hover:text-slate-300"> Genics Blog</span> </div> </a> </div> <div class="flex items-center h-16"> <div class="hidden lg:block"> <a class="nav-item text-white" href="/topics">Topics</a> <a class="nav-item text-white" href="/about">About Us</a> <a class="nav-item text-white" href="/contact">Contact</a> <a class="nav-item text-white" target="_blank" href="https://docs.genicsblog.com">Docs</a> </div> <button onclick="showSearch()" aria-label="Search across the site..."> <svg xmlns="http://www.w3.org/2000/svg" class="ml-4 h-6 w-6 stroke-white hover:stroke-slate-300" fill="none" viewbox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </button> <button type="button" class="ml-2" onclick="saveTheme(isDark() ? LIGHT : DARK)" title="Ctrl + Shift + L"> <svg viewbox="0 0 512 512" class="h-8 w-8 fill-white hover:fill-slate-300 transition-all" id="theme-toggle-icon"> <g> <path d="M262.524,164.624c-49.466,0-89.592,40.119-89.592,89.596c0,49.487,40.126,89.606,89.592,89.606 c49.487,0,89.613-40.119,89.613-89.606C352.138,204.743,312.012,164.624,262.524,164.624z M262.524,320.136 c-36.39,0-65.902-29.513-65.902-65.916c0-36.396,29.513-65.903,65.902-65.903c36.41,0,65.924,29.506,65.924,65.903 C328.448,290.623,298.935,320.136,262.524,320.136z"></path> <path d="M264.078,149.221c0,0-39.031-73.758,0-73.758C303.103,75.462,264.078,149.221,264.078,149.221z"></path> <path d="M261.922,363.328c0,0,39.053,73.737,0,73.737C222.905,437.045,261.922,363.328,261.922,363.328z"></path> <path d="M186.536,331.194c0,0-24.539,79.766-52.142,52.148C106.817,355.746,186.536,331.194,186.536,331.194z"></path> <path d="M155.941,255.181c0,0-73.745,39.048-73.745,0C82.224,216.177,155.941,255.181,155.941,255.181z"></path> <path d="M188.068,179.794c0,0-79.746-24.524-52.142-52.142C163.503,100.086,188.068,179.794,188.068,179.794z"></path> <path d="M428.852,254.552c0,49.668-40.276,89.931-89.935,89.931c-49.657,0-89.928-40.263-89.928-89.931 c0-49.672,40.271-89.928,89.928-89.928C388.575,164.624,428.852,204.88,428.852,254.552z"></path> </g> </svg> </button> <a class="ml-2 md:ml-4 px-2.5 py-1.5 font-bold rounded-md text-black bg-white hover:bg-slate-300 hover:scale-110 transition underline-none" href="/contribute">Contribute</a> <div class="ml-4 lg:hidden cursor-pointer"> <div id="menu-btn" class="h-8 w-8 relative" onclick="toggleNav()"> <div class="menu-btn-lines"></div> </div> </div> </div> </div> </div> <div class="top-0 bg-background hidden p-6 lg:hidden" id="mobile-nav"> <div class="grid grid-cols-2 gap-y-2 gap-x-4"> <a class="group mobile-nav-item " href="/topics"> <span class="group-hover:text-white">Topics</span> </a> <a class="group mobile-nav-item " href="/about"> <span class="group-hover:text-white">About Us</span> </a> <a class="group mobile-nav-item " href="/contact"> <span class="group-hover:text-white">Contact</span> </a> <a class="group mobile-nav-item" href="https://docs.genicsblog.com" target="_blank"> <span class="group-hover:text-white">Documentation</span> </a> </div> </div> </header> </nav> <header class="banner"> <div class="flex flex-col lg:flex-row p-2"> <div class="flex justify-center items-center lg:w-1/2 md:mb-0"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1636226069099/jLbjyNOXm.png" class="w-full md:w-3/4 lg:w-full rounded-xl shadow-xl aspect-video m-8" loading="lazy"> </div> <div class="flex flex-col justify-center lg:items-start w-full lg:w-1/2 lg:ml-12"> <h1 class="text-4xl font-black tracking-tight">How to Support Multiple Fonts in an Android App</h1> <span class="mt-0.5 text-justify">This article explains how to increase an android app's accessibility by providing users the option to choose from a variety of fonts that suite their need.</span> <div class="flex items-center mt-8"> <img class="rounded-full w-14 h-14" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/46792249" loading="lazy"> <div class="ml-4 leading-3"> <a class="font-extrabold text-xl" href="/author/gouravkhunger/"> Gourav Khunger </a> <br> <span class="text-sm"> Posted on November 7, 2021 </span> </div> </div> <div class="mt-8"> <span>Category: </span> <a class="text-sm ml-2 archive-name !bg-android underline-none" href="/category/android">#android</a> </div> <div class="mt-4 sm:mt-3"> <span>Tags: </span> <a class="text-sm ml-2 my-0.5 archive-name !bg-app-development underline-none" href="/tag/app-development">#app-development</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-libraries underline-none" href="/tag/libraries">#libraries</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-a11y underline-none" href="/tag/a11y">#a11y</a> </div> </div> </div> </header> <main> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <section class="lg:flex"> <div class="md:text-lg m-6 md:m-10 lg:m-14 lg:w-full lg:max-w-[65%] xl:max-w-[70%]"> <div class="elevated"> <article class="p-6 md:p-8"> <div class="mb-6" id="audio-player" data-audio-id="3467729"></div> <p>You would hardly see any Android app that allows its users to be able to choose from a set of fonts to be used for the whole app, based on the userâ€™s preference. The major reason being it is hard to implement!</p> <h2 id="why-should-you-bother">Why should you bother?</h2> <p>Accessibility is a major aspect that every app developer should focus on. Imagine an app with an amazing utility but one that is barely usable. You donâ€™t want to loose your user base!</p> <p>I used to neglect this, but hereâ€™s why I am writing this post.</p> <p>If you follow me on any social media, or here on my blog, you know that <a href="/introducing-jekyllex-android-app">I built JekyllEx</a> to be able to manage Jekyll blogs from my Android device.</p> <p>Recently, I <a href="https://github.com/jekyllex/jekyllex-android/issues/2" rel="nofollow noopener noreferrer" target="_blank">a person reached out</a> to discuss about their chronic headaches that are triggered by font and colours that donâ€™t go well on their eyes and it would be great if I allowed some settings to be able to customise it based on user preferences.</p> <p>I quickly went to have a look at what the <a href="https://developer.android.com/guide/topics/ui/accessibility" rel="nofollow noopener noreferrer" target="_blank">Android accessibility guidelines</a> had to say.</p> <p>But to my surprise- I DIDNâ€™T FIND ANYTHING. If you take a look at those guidelines, youâ€™ll find Google actually emphasizes developers a lot to take measures and make their app accessible for all kind of users. But such a common problem hasnâ€™t been addressed. Believe me, there are many a people with varied levels of such reading problems.</p> <p>And I usually donâ€™t enable such settings in apps, but I thought it would be a great challenge to overcome, because mostly, all the solutions that already exist are inefficient: most stack overflow answers ask to traverse the <code class="language-plaintext highlighter-rouge">ViewGroup</code>â€™s children and apply custom typeface as they find Text.</p> <p>I had some other thoughts and it was obvious I would be making an Android library that somehow resolves this issue.</p> <h2 id="the-challenge">The Challenge</h2> <p>In broad aspects, an Android app is just a set of <code class="language-plaintext highlighter-rouge">View</code>(s), held together by <code class="language-plaintext highlighter-rouge">ViewGroup</code>(s), that perform certain actions when loaded, clicked, etc. All that together makes the functional app.</p> <p>But hereâ€™s the catch- each view has its own <code class="language-plaintext highlighter-rouge">Context</code>, that gives access to the current state of the view, and that makes it harder to think about how to implement the multiple-font feature, as each view needs separate handling to update its font.</p> <p>Here is a typical example of how to update the font of a single <code class="language-plaintext highlighter-rouge">TextView</code>:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">typeface</span> <span class="p">=</span> <span class="nc">ResourcesCompat</span><span class="p">.</span><span class="nf">getFont</span><span class="p">(</span><span class="k">this</span><span class="nd">@MainActivity</span><span class="p">,</span> <span class="nc">R</span><span class="p">.</span><span class="n">font</span><span class="p">.</span><span class="n">source_code_pro</span><span class="p">)</span> <span class="c1">// get font from res/font/ directory</span>
<span class="n">binding</span><span class="p">.</span><span class="n">helloWorld</span><span class="p">.</span><span class="n">typeface</span> <span class="p">=</span> <span class="n">typeface</span> <span class="c1">// apply the font to the text view</span>
</code></pre></div></div> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1636027952199/bY0CrvEb8.png" alt="image.png" loading="lazy"></p> <p>Imagine you have 20+ text views, or rather a RecyclerView(as in <a href="https://jekyllex.xyz" target="_blank">JekyllEx</a>), in which each of the items has a significantly large number of <code class="language-plaintext highlighter-rouge">TextView</code>(s).</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1636028456465/fi0vdUzhZ.png" alt="image.png" loading="lazy"></p> <p>Here, <a href="https://github.com/jekyllex/jekyllex-android/blob/main/app/src/main/res/layout/other_repository_item.xml" rel="nofollow noopener noreferrer" target="_blank">each RecyclerView item</a> actually has 8 TextViews! Imagine updating the font manually for each view, one-by-one. It would be really inconvenient!</p> <p>I had a look to some stack overflow questions and as told earlier, most of them were old and in-efficient.</p> <h2 id="the-solution">The Solution</h2> <p>From the very beginning I knew I would store the default font in a <code class="language-plaintext highlighter-rouge">SharedPreference</code>. For those who donâ€™t know about it, it is Androidâ€™s way to allow apps to store simple key-value paired data that the app can use without write access to the disk. For most of the cases, it suffices to use <code class="language-plaintext highlighter-rouge">SharedPreference</code> instead of writing to disk and it was super handy in this case.</p> <p>I would store the resource id, an integer identifier that is given to all types of resources in any app, in <code class="language-plaintext highlighter-rouge">SharedPreference</code>, and retrieve that value to apply the font when the view is inflated (rendered on screen).</p> <p>This was the most efficient way I could come up with, because <code class="language-plaintext highlighter-rouge">SharedPreference</code> is really optimised. The values are cached and retrieving multiple values within a short time doesnâ€™t affect performance much.</p> <p>There exists another way, by changing the <code class="language-plaintext highlighter-rouge">themes.xml</code> values at runtime and applying font directly from the styles itself, but it requires minimum API level 23 (Android 6.0). So it wouldnâ€™t be backward compatible and make the app crash on lower Android versions. I didnâ€™t want to do so.</p> <h2 id="the-result">The Result</h2> <p>As a result, I built the android library Fontize!</p> <div class="linkpreview"> <a class="underline-none" href="https://github.com/gouravkhunger/Fontize" rel="nofollow noopener noreferrer" target="_blank"> <div class="p-4 lg:p-6 flex flex-col md:flex-row"> <img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://opengraph.githubassets.com/5ee12e33463637e659a0ec7147225d802ee2ed253c570f42a7152e9a01d0822e/gouravkhunger/Fontize" class="w-full md:max-w-[40%] rounded-xl aspect-video lg:m-4" loading="lazy"> <div class="mt-4 flex flex-col justify-center w-full md:w-1/2 md:ml-4 md:mt-0"> <h3 class="tracking-tight line-clamp-2 lg:text-3xl"> gouravkhunger/Fontize </h3> <p class="text-sm lg:text-base line-clamp-3">Fontize is an Android library that enables multi-font selection functionality to beautify your app. - GitHub - gouravkhunger/Fontize: Fontize is an Android library that enables multi-font selection functionality to beautify your app.</p> <span class="text-gray-500 dark:text-gray-400 text-sm"> github.com &gt; </span> </div> </div> </a> </div> <p>Once you add it to your project, you need to follow certain steps mentioned in the <a href="https://github.com/gouravkhunger/Fontize/blob/main/README.md" rel="nofollow noopener noreferrer" target="_blank">repositoryâ€™s <code class="language-plaintext highlighter-rouge">README.md</code> file</a> and your project will migrate to use intelligent <code class="language-plaintext highlighter-rouge">Fontize</code> views that can work united and can change fonts in a snap.</p> <p>Hereâ€™s a demo of what you can Achieve with Fontize:</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1636224247599/d04oZY7Pf.gif" alt="Fontize Android library demo" loading="lazy"></p> <p>To set the default font for the app, you just have to add this line of code just below <code class="language-plaintext highlighter-rouge">onCreate()</code> function in your appâ€™s launcher activity (the one that is triggered when app icon is clicked) only once:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Fontize</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nf">setDefaultFont</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">font</span><span class="p">.</span><span class="n">exo_2</span><span class="p">)</span> <span class="c1">// replace with the font you desire</span>
</code></pre></div></div> <p>Internally, this function creates a <code class="language-plaintext highlighter-rouge">SharedPreference</code> value if it doesnâ€™t already exist:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">setDefaultFont</span><span class="p">(</span><span class="n">resourceId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">sharedPref</span> <span class="p">=</span> <span class="nc">PreferenceManager</span><span class="p">.</span><span class="nf">getDefaultSharedPreferences</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">fontId</span> <span class="p">=</span> <span class="n">sharedPref</span><span class="p">.</span><span class="nf">getInt</span><span class="p">(</span><span class="s">"fontFamily"</span><span class="p">,</span> <span class="nc">ResourcesCompat</span><span class="p">.</span><span class="nc">ID_NULL</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">fontId</span> <span class="p">==</span> <span class="nc">ResourcesCompat</span><span class="p">.</span><span class="nc">ID_NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">sharedPref</span><span class="p">.</span><span class="nf">edit</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">putInt</span><span class="p">(</span><span class="s">"fontFamily"</span><span class="p">,</span> <span class="n">resourceId</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">apply</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>To update the font for the entire app, you just need to run this code and Fontize will handle it automatically for you:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Fontize</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nf">updateFont</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">font</span><span class="p">.</span><span class="n">zen_old_mincho</span><span class="p">)</span> <span class="c1">// updates fontFamily throughout app</span>
</code></pre></div></div> <p>Hereâ€™s the interesting part, this function just updates the <code class="language-plaintext highlighter-rouge">fontFamily</code> value stored in <code class="language-plaintext highlighter-rouge">SharedPreference</code> for the app:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">updateFont</span><span class="p">(</span><span class="n">resourceId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">sharedPref</span> <span class="p">=</span> <span class="nc">PreferenceManager</span><span class="p">.</span><span class="nf">getDefaultSharedPreferences</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="n">sharedPref</span><span class="p">.</span><span class="nf">edit</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">putInt</span><span class="p">(</span><span class="s">"fontFamily"</span><span class="p">,</span> <span class="n">resourceId</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">apply</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div> <p>The actual work happens in the view classes. Letâ€™s take the example of <code class="language-plaintext highlighter-rouge">FontizeTextView</code>, or any similar class. It just extends the parent View and applies the font by picking its value from <code class="language-plaintext highlighter-rouge">SharedPreference</code>:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">FontizeTextView</span><span class="p">(</span>
    <span class="n">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">,</span>
    <span class="n">attrs</span><span class="p">:</span> <span class="nc">AttributeSet</span>
<span class="p">)</span> <span class="p">:</span> <span class="nc">AppCompatTextView</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">init</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">prefs</span> <span class="p">=</span> <span class="nc">PreferenceManager</span><span class="p">.</span><span class="nf">getDefaultSharedPreferences</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="kd">val</span> <span class="py">fontId</span> <span class="p">=</span> <span class="n">prefs</span><span class="p">.</span><span class="nf">getInt</span><span class="p">(</span><span class="s">"fontFamily"</span><span class="p">,</span> <span class="nc">ResourcesCompat</span><span class="p">.</span><span class="nc">ID_NULL</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">fontId</span> <span class="p">!=</span> <span class="nc">ResourcesCompat</span><span class="p">.</span><span class="nc">ID_NULL</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">typeface</span> <span class="p">=</span> <span class="nc">ResourcesCompat</span><span class="p">.</span><span class="nf">getFont</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">fontId</span><span class="p">)</span>
            <span class="k">this</span><span class="p">.</span><span class="n">typeface</span> <span class="p">=</span> <span class="n">typeface</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>All this code does is, to override the default view to apply the font family as soon as it inflates. Similar classes for views that support texts within them, like workarounds for <code class="language-plaintext highlighter-rouge">MenuItem</code>(s) and <code class="language-plaintext highlighter-rouge">Toolbar</code>(s), will be shipped soon.</p> <p>If you need to look at a live project that uses Fontize in production- <a href="https://github.com/jekyllex/jekyllex-android" rel="nofollow noopener noreferrer" target="_blank">checkout JekyllEx app on GitHub</a>. It doesnâ€™t use the initial version that was published on Jitpack, but it uses a custom fork as per its needs and requirements, but Fontize will soon evolve and be able to do a lot more than just <code class="language-plaintext highlighter-rouge">TextViews</code> ðŸ˜„</p> <h2 id="conclusion">Conclusion</h2> <p>Believe me or not, starting this project, to finishing the base version with a working <code class="language-plaintext highlighter-rouge">FontizeTextView</code>, to publishing it on jitpack- all just finished within 2 hours! <a href="https://github.com/gouravkhunger/Fontize" rel="nofollow noopener noreferrer" target="_blank">Fontize</a> deserves a star for that effort ðŸ˜Ž.</p> <p>I hope you learnt something new out of this post. If you want to keep reading quality Android development content, consider joining my newsletter, fill out the box at the top of the article.</p> <p>Do comment and let me know what topic should I pick to publish an article next week. All kinds of feedbacks are appreciated :)</p> <p>Thanks and happy coding!</p> </article> <hr> <div class="px-6 pb-6 md:px-8 md:pb-8 flex flex-col items-center rounded-bl-2xl rounded-br-2xl"> <p class="text-center mb-4"> Join discussions at <a href="https://discord.genicsblog.com" target="_blank" class="cta-link"> our discord server &gt; </a> <br> Did you learn something new? Add a comment below and spread the word! </p> <div class="grid grid-flow-col gap-6"> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://facebook.com/sharer.php?u=https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/facebook.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://api.whatsapp.com/send?text=Checkout%20this%20amazing%20article%20at%20Genics%20Blog%20'How%20to%20Support%20Multiple%20Fonts%20in%20an%20Android%20App':%20https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app" onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/whatsapp.svg" class="social-image w-10 h-10" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/linkedin.svg" class="social-image w-7 h-7" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://twitter.com/intent/tweet?text=Check%20out%20this%20amazing%20article%20by%20@gourav_khunger%20at%20@genicsblog:%20How%20to%20Support%20Multiple%20Fonts%20in%20an%20Android%20App&amp;url=https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://www.snapchat.com/scan?attachmentUrl=https://genicsblog.com/how-to-support-multiple-fonts-in-an-android-app" onclick="window.open(this.href, 'snapchat-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/snapchat.svg" class="social-image w-14 h-14 -m-2" loading="lazy"> </a> </div> </div> </div> </div> <aside class="m-6 md:m-10 lg:my-14 lg:mr-10 lg:-ml-4 md:mr-8 lg:max-w-[25%] xl:max-w-[20%]"> <figure class="p-6 md:p-8 elevated"> <img class="w-24 h-24 rounded-full mx-auto" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/46792249" alt="Gourav Khunger" loading="lazy"> <div class="pt-4 space-y-4"> <figcaption class="font-medium text-center"> <div> <a href="/author/gouravkhunger/" class="text-xl font-bold"> Gourav Khunger </a> </div> <div class="text-slate-700 dark:text-slate-200 text-sm"> Founder @ Genics Blog </div> </figcaption> <p class="leading-5 font-medium text-justify">17; Google AAD; Software Developer (Android + Web); Technical Writer; YouTuber</p> </div> </figure> <figure class="bg-white dark:bg-background rounded-2xl p-6 shadow-xl shadow-slate-200 dark:shadow-none mt-8 aspect-square w-full"> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="auto" data-full-width-responsive="true" data-ad-client="ca-pub-8114751086331659" data-ad-slot="8698895132"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </figure> <figure class="px-6 pb-6 md:px-8 mt-8 elevated lg:sticky lg:top-24"> <img src="https://dash.beyondwords.io/logo-dark.svg" class="w-full aspect-video hidden dark:block" loading="lazy"> <img src="https://dash.beyondwords.io/logo.svg" class="w-full aspect-video dark:hidden" loading="lazy"> <h4> BeyondWords <span class="text-xs text-white px-3 py-1 align-middle rounded-xl bg-primary">Sponsored</span> </h4> <p>BeyondWords is an AI voice and audio publishing platform that brings frictionless audio to writers, newsrooms, and businesses!</p> <div class="flex justify-center"> <a class="px-3 py-1 mt-4 linkbtn underline-none" href="https://beyondwords.io?utm_source=genicsblog.com&amp;utm_medium=cpc&amp;utm_campaign=advertisement" rel="nofollow" target="_blank"> Check it out &gt; </a> </div> </figure> </aside> </section> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <div class="flex justify-center mx-6 md:mx-10 lg:mx-14"> <div class="p-8 md:p-12 grid grid-flow-row sm:grid-flow-col gap-x-8 items-center justify-between elevated"> <section class="md:mr-4"> <h3>Contribute to the Genics Blog!</h3> <p> Genics Blog is a purely <a href="https://github.com/genicsblog" rel="nofollow noreferrer noopener" target="_blank" class="cta-link">open source</a> publication. Authors at Genics post highly resourceful content on varied topics relevant to the developer community. Join us and start publishing today! </p> </section> <a class="px-4 py-1.5 mt-8 md:mt-0 md:ml-4 linkbtn underline-none font-bold text-lg" href="/contribute"> Contribute </a> </div> </div> <h1 class="mx-8 mt-12 md:mx-10 lg:mx-14 -mb-4 lg:-mb-8">Comments</h1> <section class="flex flex-col-reverse lg:flex-row"> <div id="comments" class="md:text-lg m-8 md:m-10 lg:m-14 lg:w-full lg:max-w-[65%] xl:max-w-[70%]"></div> <aside class="m-8 md:m-10 lg:my-14 lg:mr-10 lg:-ml-4 md:mr-8 lg:max-w-[25%] xl:max-w-[20%]"> <div class="p-6 md:p-8 space-y-4 lg:sticky lg:top-24 rounded-2xl bg-white dark:bg-background shadow-xl dark:shadow-none shadow-slate-200"> <p class="leading-5 font-medium text-justify"> Please adhere to our <a href="/code-of-conduct">Code of Conduct</a> while adding a comment. Respect other's opinion. </p> </div> </aside> </section> <div class="m-8 md:m-10 lg:m-14"> <div class="flex justify-center"> <h2>Related content</h2> </div> <div class="flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-4 md:gap-4 lg:gap-6 text-center"> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-frontend dark:hover:!border-frontend underline-none" href="/dhruva/chakra-ui-is-awesome"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://user-images.githubusercontent.com/46792249/194068868-31884742-ea9c-428e-8f57-3de2ea6dc8e9.png" alt="Chakra UI is awesome!" title="Chakra UI is awesome!" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">Chakra UI is awesome!</h2> <p class="line-clamp-3">Chakra UI is an absolutely amazing UI library built for React. It consists of a plethora of components that you can use as building blocks for a beautiful and responsive front end.</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/66675022" alt="Dhruva Srinivas's Profile Picture" title="Dhruva Srinivas's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Dhruva</span> </div> <span>Oct 5, 2022</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-android dark:hover:!border-android underline-none" href="/gouravkhunger/pagination-in-android-room-database-using-the-paging-3-library"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://user-images.githubusercontent.com/46792249/164977196-3de454f4-8a7e-4feb-9d1b-cfd6ea53ba03.jpg" alt="Pagination in Android Room Database using the Paging 3 Library" title="Pagination in Android Room Database using the Paging 3 Library" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">Pagination in Android Room Database using the Paging 3 Library</h2> <p class="line-clamp-3">The complete guide to paginating *just* a room database (without Network level pagination) with the Paging 3 library in Android using Kotlin.</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/46792249" alt="Gourav Khunger's Profile Picture" title="Gourav Khunger's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Gourav</span> </div> <span>Apr 24, 2022</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-jekyll dark:hover:!border-jekyll underline-none" href="/gouravkhunger/adding-multiple-authors-to-a-jekyll-blog-got-easier"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://user-images.githubusercontent.com/46792249/162621431-f9004144-8a56-4cb5-b3ac-5c5a2660a6fa.png" alt="Adding Multiple Authors to a Jekyll Blog got Easier!" title="Adding Multiple Authors to a Jekyll Blog got Easier!" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">Adding Multiple Authors to a Jekyll Blog got Easier!</h2> <p class="line-clamp-3">Jekyll doesn't support multiple authors out of the box. But we can add that functionality using this plugin I made!</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/46792249" alt="Gourav Khunger's Profile Picture" title="Gourav Khunger's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Gourav</span> </div> <span>Apr 10, 2022</span> </div> </div> </a> </div> </div> </main> <footer class="px-12 py-8 text-center"> <div class="flex justify-center"> <a aria-label="Genics Blog's Discord server" class="mr-2 underline-none hover:scale-125 transition" href="https://discord.genicsblog.com" target="_blank"> <img alt="Discord's logo" src="/assets/images/social/discord.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's GitHub organization" class="mx-4 underline-none hover:scale-125 transition" href="https://github.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="GitHub's logo" src="/assets/images/social/github.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's Twitter page" class="ml-2 underline-none hover:scale-125 transition" href="https://twitter.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="Twitter's logo" src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> </div> <br> Â© 2021 <a href="/">Genics Blog</a> <br> Built with <a href="https://jekyllrb.com" target="_blank" rel="nofollow noopener noreferrer">Jekyll</a>. Hosted on <a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">GitHub</a>. <br><br> Developed by <a href="https://github.com/gouravkhunger" rel="nofollow noopener noreferrer" target="_blank"> Gourav Khunger</a>. Thanks to the <a href="https://github.com/genicsblog/genicsblog.com/graphs/contributors" rel="nofollow noopener noreferrer" target="_blank"> contributors</a>! <br><br> <a class="nav-item text-white" href="/terms">T&amp;C</a> <a class="nav-item text-white" href="/privacy-policy">Privacy Policy</a> <a class="nav-item text-white" href="/licensing">Licensing</a> </footer> <div class="hidden fixed top-0 w-full h-full p-6 md:p-14 backdrop-blur-md cursor-pointer z-20" id="search-container"> <div class="p-4 bg-white dark:bg-slate-800 mx-auto w-full max-h-full sm:w-3/4 lg:w-1/2 content-center rounded-lg shadow-md shadow-slate-200 dark:shadow-none cursor-auto overflow-auto" id="search-box"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-slate-400" fill="none" viewbox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <input type="text" class="w-full h-full pl-4 text-2xl outline-none dark:bg-slate-800" id="search-input" placeholder="Search..."> <span class="hidden lg:block text-sm text-gray-600 text-right tracking-tight ml-2"> <kbd class="bg-gray-200 dark:bg-slate-600 dark:text-gray-200 rounded-md shadow-sm py-1 px-2">Esc</kbd> </span> </div> <div id="results-container"></div> </div> </div> <script src="/assets/js/theme.js" data-no-instant></script> <script src="/assets/js/search.js" data-no-instant></script> <script src="/assets/js/prism.js" data-no-instant></script> <script src="/assets/js/instantclick.min.js" data-no-instant></script> <script data-no-instant>InstantClick.on("change",()=>{setTheme(),Prism.highlightAll(),initCodeBlocks(),window.onscroll=(()=>{setStickyness()}),document.getElementById("search-container").addEventListener("click",t=>{"search-container"===t.target.id&&hideSearch()});const t=window.location.pathname+window.location.search+window.location.hash;gtag("set","page_path",t);const e=document.getElementById("audio-player");if(e)new BeyondWords.Player({projectId:11987,target:e,playerStyle:"large",widgetStyle:"small",contentId:e.dataset.audioId});const a=document.getElementById("comments");if(a){const t={src:"https://giscus.app/client.js","data-repo":"genicsblog/comments","data-repo-id":"R_kgDOG0-Vlw","data-category":"Announcements","data-category-id":"DIC_kwDOG0-Vl84CP8Dz","data-mapping":"pathname","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":`${isDark()?GISCUS_DARK:GISCUS_LIGHT}`,"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");for(key in t)e.setAttribute(key,t[key]);a.appendChild(e)}}),InstantClick.on("receive",()=>{"function"==typeof window.cleanup&&(window.cleanup(),window.cleanup())}),InstantClick.init("mousedown");</script> </body> </html>