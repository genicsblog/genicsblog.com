<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="Learn how to add swipe animation to a card view. In this tutorial, we will add a sliding animation to a card view to simulate slide to refresh behaviour."> <meta name="twitter:description" content="Learn how to add swipe animation to a card view. In this tutorial, we will add a sliding animation to a card view to simulate slide to refresh behaviour."> <meta property="og:description" content="Learn how to add swipe animation to a card view. In this tutorial, we will add a sliding animation to a card view to simulate slide to refresh behaviour."> <meta property="og:type" content="article"> <meta property="og:title" content="How to Add Swipe Animations to a CardView in an Android App"> <meta property="og:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1636707430801/EOfL2jKCy.gif"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@genicsblog"> <meta name="twitter:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1636707430801/EOfL2jKCy.gif"> <meta name="twitter:creator" content="@gourav_khunger"> <meta property="og:type" content="article"> <meta property="og:url" content="https://genicsblog.com/swipe-animation-on-a-cardview-android"> <link rel="canonical" href="https://freecodecamp.org/news/add-swipe-animations-to-a-card-view-in-android-app"> <link rel="icon" href="/assets/images/genicsblog.png" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/theme.css"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Sen&amp;display=swap" rel="stylesheet"> <link rel="stylesheet" href="/assets/css/prism.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-145769474-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-145769474-1");</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8114751086331659" crossorigin="anonymous"></script> <title>How to Add Swipe Animations to a CardView in an Android App</title> </head> <body> <nav> <p class="bg-primary p-3 text-center text-white font-medium flex flex-col sm:block"> <span class="md:hidden px-1">Connect with us on discord to stay updated.</span> <span class="hidden md:inline px-1">Connect with us on discord to stay updated on the blog's development.</span> <a href="https://discord.genicsblog.com" target="_blank" class="font-bold underline header-anchor hover:text-slate-300" rel="nofollow noopener noreferrer"> Join &gt; </a> </p> <header class="w-screen top-0 z-10" id="navbar"> <div class="bg-background max-h-20 py-1 px-2 sm:px-8 lg:px-8 mx-auto"> <div class="flex justify-between h-16"> <div class="flex px-2 lg:px-0"> <a class="group flex-shrink-0 flex items-center logo-anchor" href="/" aria-label="Home Page Link"> <div class="flex items-center space-x-2 whitespace-nowrap flex-nowrap"> <div class="h-8 w-8 mx-2"> <svg class="h-8 w-8 fill-white group-hover:fill-slate-300" viewbox="0 0 79.784508 91.197495" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2"></defs> <g id="layer1" transform="translate(-68.235445,-52.679805)"> <path id="path962" style="stroke:none;stroke-width:0.999999px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 408.73047,210.44336 -139.49414,80.59961 0.87109,162.49414 52.71289,-32.94922 85.34766,48.85938 87.42773,-48.85743 -0.63476,-53.22851 -84.8711,-0.88477 v 27.79297 h 56.02735 v 9.45508 l -58.31446,33.66797 -56.13085,-32.4082 0.63476,-66.94922 55.81836,-32.22461 57.25195,32.76172 82.41016,-47.75782 z m 0.43945,32.62695 83.28125,48.08203 -26.93555,15.55274 -57.21484,-33.0332 -84.18359,48.60351 v 66.39453 l -25.48047,14.71094 0.084,-96.54102 z" transform="scale(0.26458333)"></path> <path style="stroke:none;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 81.889144,125.74786 26.204966,15.12944 36.92584,-21.31914 V 88.998204 l -7.22758,4.172845 V 115.03627 L 108.1902,132.12709 89.310794,121.22706 Z" id="path1416"></path> </g> </svg> </div> <span class="font-bold hidden sm:block text-xl tracking-tight text-white group-hover:text-slate-300"> Genics Blog</span> </div> </a> </div> <div class="flex items-center h-16"> <div class="hidden lg:block pr-4"> <a class="nav-item text-white" href="/topics">Topics</a> <a class="nav-item text-white" href="/about">About Us</a> <a class="nav-item text-white" href="/contact">Contact</a> <a class="nav-item text-white" href="/advertise">Advertise</a> <a class="nav-item text-white" target="_blank" href="https://docs.genicsblog.com">Docs</a> </div> <button onclick="showSearch()" aria-label="Search for posts"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-white hover:stroke-slate-300" fill="none" viewbox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </button> <a class="ml-4 px-2.5 py-1.5 font-bold rounded-md text-black bg-white hover:bg-slate-300 hover:scale-110 transition underline-none" href="/contribute">Contribute</a> <div class="ml-4 lg:hidden cursor-pointer"> <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 stroke-white hover:stroke-slate-300" id="menu-open" viewbox="0 0 24 24" onclick="toggleNav()"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" class="menu-close h-8 w-8 hidden stroke-white hover:stroke-slate-300" id="menu-close" viewbox="0 0 24 24" onclick="toggleNav()"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </div> </div> </div> </div> <div class="top-0 bg-background hidden p-6 lg:hidden" id="mobile-nav"> <div class="grid grid-cols-2 gap-y-2 gap-x-4"> <a class="group mobile-nav-item " href="/topics"> <span class="group-hover:text-white">Topics</span> </a> <a class="group mobile-nav-item " href="/advertise"> <span class="group-hover:text-white">Advertise</span> </a> <a class="group mobile-nav-item " href="/about"> <span class="group-hover:text-white">About Us</span> </a> <a class="group mobile-nav-item " href="/contact"> <span class="group-hover:text-white">Contact</span> </a> <a class="group mobile-nav-item" href="https://docs.genicsblog.com" target="_blank"> <span class="group-hover:text-white">Documentation</span> </a> </div> </div> </header> </nav> <header class="bg-background text-white p-6 sm:p-10" id="banner"> <div class="flex flex-col lg:flex-row p-2"> <div class="flex justify-center items-center lg:w-1/2 md:mb-0"> <img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636707430801/EOfL2jKCy.gif" class="w-full md:w-3/4 lg:w-full rounded-xl shadow-xl aspect-video m-8" loading="lazy"> </div> <div class="flex flex-col justify-center lg:items-start w-full lg:w-1/2 lg:ml-12"> <h1 class="text-4xl font-black tracking-tight">How to Add Swipe Animations to a CardView in an Android App</h1> <span class="mt-0.5 text-justify">Learn how to add swipe animation to a card view. In this tutorial, we will add a sliding animation to a card view to simulate slide to refresh behaviour.</span> <div class="flex items-center mt-8"> <img class="rounded-full w-14 h-14" src="https://avatars.githubusercontent.com/u/46792249" loading="lazy"> <div class="ml-4 leading-3"> <a class="font-extrabold text-xl" href="/contributor/gouravkhunger"> Gourav Khunger </a><br> <span class="text-sm"> Posted on November 15, 2021 </span> </div> </div> <div class="mt-8"> <span>Category: </span> <a class="text-sm ml-2 hover:scale-110 category-name !bg-android underline-none" href="/category/android">#android</a> </div> <div class="mt-4 sm:mt-1"> <span>Tags: </span> <a class="text-sm ml-2 my-0.5 hover:scale-110 tag-name !bg-animation underline-none" href="/tag/animation">#animation</a> <a class="text-sm ml-2 my-0.5 hover:scale-110 tag-name !bg-app-development underline-none" href="/tag/app-development">#app-development</a> </div> </div> </div> </header> <main> <section class="lg:flex"> <div class="bg-white rounded-2xl shadow-xl shadow-slate-200 md:text-lg m-6 md:m-10 lg:m-14 lg:w-full lg:max-w-[65%] xl:max-w-[70%]"> <div class="notice w-full px-4 py-2 rounded-tl-2xl rounded-tr-2xl bg-slate-200 space-y-4"> <span class="text-base italic leading-8"> Originally published at <a href="https://freecodecamp.org/news/add-swipe-animations-to-a-card-view-in-android-app" target="_blank" rel="nofollow noopener noreferrer">freecodecamp.org</a>. </span> </div> <article class="p-6 md:p-8"> <p>If you’re building an Android app, you should consider adding animations. They can improve your app’s user experience and increase retention.</p> <p>These days, if you see an app that has no animation, it can feel odd and out-dated. And since interactive experiences are kind of the new norm, you’ll want to figure out ways to set your app apart.</p> <h2 id="what-well-build-here">What We’ll Build Here</h2> <p>Now, it might seem difficult to make your app stand out if you just have something basic like a quote sharing app (which is what we are going to work on here). It can be hard to hook the user and keep them interested.</p> <p>Of course, you could just add two simple buttons to load the next/previous quote and call it a day. But that’s pretty basic and any app could do that! Even if you’re just building a simple side-project, there’s no trade-off for good UX :)</p> <p>So what we’ll do in this tutorial is drop the buttons, and instead have logic where a user can swipe the card to the left. When they’ve swiped far enough, the app will load a new card with a new quote.</p> <p>By the end of this post, you will learn how to make a really smooth animated card which a user can swipe that can perform whatever action you choose. Here’s a demo of how it works:</p> <p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636995092206/__FOPUD4R.gif" alt="iHxFjvI4x.gif" loading="lazy"></p> <p>Amazing, right? Let’s get into it!</p> <h2 id="prerequisites">Prerequisites</h2> <p>For this tutorial, we will use Kotlin as the programming language for our app – but you can easily translate the code to Java and it would work the same.</p> <p>For reference, this is the quote card that we wish to enable the swipe feature on.</p> <p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636995144169/sl0mqK8IG.png" alt="9CVHyoJfV.png" loading="lazy"></p> <p>It is an androidX <code class="language-plaintext highlighter-rouge">CardView</code> with a bunch of <code class="language-plaintext highlighter-rouge">TextView</code>s and an <code class="language-plaintext highlighter-rouge">ImageView</code>. There’s also a <code class="language-plaintext highlighter-rouge">ProgressBar</code> that gets shown while loading a new quote.</p> <p>We won’t be making the XML code for the user interface. You can get the layout I used here from the GitHub repository, or build your own.</p> <p><a href="https://github.com/gouravkhunger/QuotesApp" rel="dofollow" target="_blank">Here’s the complete code</a> for our Quotes app, if you wish to check it out. It uses the MVVM design pattern, but this article doesn’t rely on what pattern you use for the business logic of your app, as we’ll just be working on the UI part.</p> <p>Now, we’re ready to make that awesome swipe interface!</p> <h2 id="how-to-handle-swipes-in-our-app">How to Handle Swipes in Our App</h2> <p>To handle swipes, we first need to set a touch listener on the card. Each time an action is performed on the card, the touch listener is called. Within the listener, we will add the logic to do the math and perform the animations.</p> <p>Here is the blueprint of the touch listener we will be using:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">quoteCard</span><span class="p">.</span><span class="nf">setOnTouchListener</span><span class="p">(</span>
    <span class="nc">View</span><span class="p">.</span><span class="nc">OnTouchListener</span> <span class="p">{</span> <span class="n">view</span><span class="p">,</span> <span class="n">event</span> <span class="p">-&gt;</span>
        <span class="k">when</span> <span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">action</span><span class="p">)</span> <span class="p">{</span>
            <span class="nc">MotionEvent</span><span class="p">.</span><span class="nc">ACTION_MOVE</span> <span class="p">-&gt;</span> <span class="p">{</span>
            	<span class="c1">// TODO: Handle ACTION_MOVE</span>
            <span class="p">}</span>
            <span class="nc">MotionEvent</span><span class="p">.</span><span class="nc">ACTION_UP</span> <span class="p">-&gt;</span> <span class="p">{</span>
            	<span class="c1">// TODO: Handle ACTION_UP</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// required to by-pass lint warning</span>
        <span class="n">view</span><span class="p">.</span><span class="nf">performClick</span><span class="p">()</span>
        <span class="k">return</span><span class="nd">@OnTouchListener</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div></div> <p>Here, we are specifically listening for 2 actions on the card – the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> and the <code class="language-plaintext highlighter-rouge">ACTION_UP</code>.</p> <ul> <li>The <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> event is called when a user starts swiping the card, that is, moving it.</li> <li>The <code class="language-plaintext highlighter-rouge">ACTION_UP</code> is called when a user lifts their finger from the card, basically, when they release it.</li> </ul> <p>There are many other action events that we can override, such as <code class="language-plaintext highlighter-rouge">ACTION_DOWN</code> that’s called when a person gets hold of the view, but we don’t need them for this feature.</p> <p>The basic setup for the card is done, so let’s figure out the swiping logic.</p> <h2 id="the-math-behind-the-swipe-action">The math behind the swipe action</h2> <p>First, let’s re-think what we want to achieve. Implementing functionality is easier when you know exactly what you wish to have. Your code will also make more sense when your requirements are clear.</p> <p>Here, we have a quote card. We want users to be able to swipe it only to the left, and if the minimum threshold to load a new quote is reached, it should move back to its original position and load a new quote.</p> <p>Now, to achieve this, let’s think of it in terms of the card. Let’s define the mean position as the center of the card.</p> <p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636995345595/1Y88cyjU7.png" alt="dEnpWr7e4.png" loading="lazy"></p> <p>We want the card to swipe if and only if the user swipes it to the left of the mean position.</p> <p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636995363765/mQspVxd8R.gif" alt="7epeWn53S.gif" loading="lazy"></p> <p>So how can we make this happen?</p> <p>You guessed it – we will calculate the mean position and on the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> event, we will check if the user swiped to the left and move the card accordingly.</p> <h2 id="how-to-implement-the-swipe-logic">How to implement the swipe logic</h2> <p>To implement the logic, we first need to have the starting position of the card, which is fairly easy to calculate. We will just make sure that it is calculated with respect to the full-screen width, not just the card’s width.</p> <p>Place these lines of code before the <code class="language-plaintext highlighter-rouge">when(event.action)</code> statement:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">quoteCard</span><span class="p">.</span><span class="nf">setOnTouchListener</span><span class="p">(</span>
    <span class="nc">View</span><span class="p">.</span><span class="nc">OnTouchListener</span> <span class="p">{</span> <span class="n">view</span><span class="p">,</span> <span class="n">event</span> <span class="p">-&gt;</span>
    
        <span class="c1">// variables to store current configuration of quote card.</span>
        <span class="kd">val</span> <span class="py">displayMetrics</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="n">displayMetrics</span>
        <span class="kd">val</span> <span class="py">cardWidth</span> <span class="p">=</span> <span class="n">quoteCard</span><span class="p">.</span><span class="n">width</span>
        <span class="kd">val</span> <span class="py">cardStart</span> <span class="p">=</span> <span class="p">(</span><span class="n">displayMetrics</span><span class="p">.</span><span class="n">widthPixels</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span> <span class="p">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">-</span> <span class="p">(</span><span class="n">cardWidth</span> <span class="p">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="k">when</span> <span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">action</span><span class="p">)</span> <span class="p">{</span>
        	<span class="o">..</span><span class="p">.</span>
        <span class="p">}</span>
        <span class="o">..</span><span class="p">.</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div></div> <p>First we get the <code class="language-plaintext highlighter-rouge">displayMetrics</code> from <code class="language-plaintext highlighter-rouge">resources</code>, which will give us the width of the screen using <code class="language-plaintext highlighter-rouge">displayMetrics.widthPixels.toFloat()</code>.</p> <p>Then we get the <code class="language-plaintext highlighter-rouge">cardWidth</code> using the <code class="language-plaintext highlighter-rouge">width</code> property of the <code class="language-plaintext highlighter-rouge">quoteCard</code>.</p> <p>Finally, we calculate the starting position of the card using the formula <code class="language-plaintext highlighter-rouge">(width of screen/2) - (cardWidth/2)</code>. Essentially, this gives us the x-coordinate of this position of the card:</p> <p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636995431988/CH21jNCaQ.gif" alt="NiH3lsseM.gif" loading="lazy"></p> <p>Now, let’s implement the code for the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> event.</p> <h2 id="how-to-handle-the-action_move-event">How to handle the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> event</h2> <p>Inside the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> block, we first initialise the <code class="language-plaintext highlighter-rouge">newX</code> variable that holds the new x-coordinate that the card has been swiped to.</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">newX</span> <span class="p">=</span> <span class="n">event</span><span class="p">.</span><span class="n">rawX</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">event.rawX</code> gives us the absolute value of the new coordinate with respect to the screen width.</p> <p><code class="language-plaintext highlighter-rouge">newX</code> will contain the x-coordinate where the user’s finger is, at any given moment. The value <code class="language-plaintext highlighter-rouge">0.0</code> for <code class="language-plaintext highlighter-rouge">newX</code> means that the user swiped to the left-most part of the screen. And for my emulator, <code class="language-plaintext highlighter-rouge">1080.0</code> represents the right-most edge of the screen.</p> <p>Since, we want the card to swipe only if <code class="language-plaintext highlighter-rouge">newX</code> is less than the mean position of the card, we will place an if-condition here to verify that this is the case.</p> <p>Think of this with simple values. Let’s suppose that the mean position of the card is at x-coordinate <code class="language-plaintext highlighter-rouge">540.0</code> (small x-coordinate) and the user swipes to <code class="language-plaintext highlighter-rouge">710.0</code> (bigger x-coordinate). But we don’t want them to be able to swipe to the right. And if the user swipes to <code class="language-plaintext highlighter-rouge">320.0</code> (smaller x-coordinate), then we need to carry out the swipe and move the card to the new position.</p> <p>Here’s the code to implement the above logic:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">newX</span> <span class="p">-</span> <span class="n">cardWidth</span> <span class="p">&lt;</span> <span class="n">cardStart</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// or newX &lt; cardStart + cardWidth</span>
    <span class="n">quoteCard</span><span class="p">.</span><span class="nf">animate</span><span class="p">().</span><span class="nf">x</span><span class="p">(</span>
        <span class="nf">min</span><span class="p">(</span><span class="n">cardStart</span><span class="p">,</span> <span class="n">newX</span> <span class="p">-</span> <span class="p">(</span><span class="n">cardWidth</span> <span class="p">/</span> <span class="mi">2</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="p">.</span><span class="nf">setDuration</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">start</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div> <p>We subtract <code class="language-plaintext highlighter-rouge">cardWidth</code> from <code class="language-plaintext highlighter-rouge">newX</code> because <code class="language-plaintext highlighter-rouge">newX</code> is an absolute value which is not relative to the card. It has a higher value because <code class="language-plaintext highlighter-rouge">cardStart</code> is towards the start of the screen, and <code class="language-plaintext highlighter-rouge">newX</code> is initially somewhere in the middle (a user would generally swipe from the middle).</p> <p>We want to compare the value of shift in the x-coordinate and median to the value of <code class="language-plaintext highlighter-rouge">cardStart</code>, not the value of <code class="language-plaintext highlighter-rouge">newX</code>, so we take this into account by subtracting <code class="language-plaintext highlighter-rouge">cardWidth</code>.</p> <p>Then, we carry out the animation using <code class="language-plaintext highlighter-rouge">quoteCard.animate()</code> and we change its x coordinate using the <code class="language-plaintext highlighter-rouge">x()</code> function.</p> <p>Now, why do we do <code class="language-plaintext highlighter-rouge">min(cardStart, newX - (cardWidth/2))</code>?</p> <p>This is very interesting and intuitive to understand. From the beginning, we are emphasizing that the card should move only to the left and not to the right.</p> <p><code class="language-plaintext highlighter-rouge">newX - (cardWidth/2))</code> is nothing but the swiped distance towards the left (so subtraction is involved – for the right side, it should be added).</p> <p>The <code class="language-plaintext highlighter-rouge">min()</code> function here returns the minimum of the two values provided. If the swiped distance is less than the <code class="language-plaintext highlighter-rouge">cardStart</code>, it is returned, otherwise <code class="language-plaintext highlighter-rouge">cardStart</code> is used. This is the condition we want to meet and <code class="language-plaintext highlighter-rouge">min()</code> makes it really easy to handle.</p> <p><code class="language-plaintext highlighter-rouge">setDuration(0)</code> ensures that the animation is carried instantaneously (which keeps swiping from feeling laggy). <code class="language-plaintext highlighter-rouge">start()</code> actually starts the animation with the given properties.</p> <p>This animation will clear any doubt your have on how this works:</p> <p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1636995634763/Sk_XJiR5M.gif" alt="other.gif" loading="lazy"></p> <p>(I don’t have expertise on making animations, this was the best I could come up with.)</p> <p>Here is the final code for the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> event:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">MotionEvent</span><span class="p">.</span><span class="nc">ACTION_MOVE</span> <span class="p">-&gt;</span> <span class="p">{</span>
    <span class="c1">// get the new coordinate of the event on X-axis</span>
    <span class="kd">val</span> <span class="py">newX</span> <span class="p">=</span> <span class="n">event</span><span class="p">.</span><span class="n">rawX</span>

    <span class="c1">// carry out swipe only if newX - cardWidth &lt; cardStart, that is</span>
    <span class="c1">// the card is swiped to the left side, not to the right</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">newX</span> <span class="p">-</span> <span class="n">cardWidth</span> <span class="p">&lt;</span> <span class="n">cardStart</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">quoteCard</span><span class="p">.</span><span class="nf">animate</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">x</span><span class="p">(</span>
                <span class="nf">min</span><span class="p">(</span><span class="n">cardStart</span><span class="p">,</span> <span class="n">newX</span> <span class="p">-</span> <span class="p">(</span><span class="n">cardWidth</span> <span class="p">/</span> <span class="mi">2</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="p">.</span><span class="nf">setDuration</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">start</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>You can also include a <code class="language-plaintext highlighter-rouge">TextView</code> to the UI that reflects when the user should release the card. Place this code inside the above <code class="language-plaintext highlighter-rouge">if</code> statement too:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">quoteCard</span><span class="p">.</span><span class="n">x</span> <span class="p">&lt;</span> <span class="nc">MIN_SWIPE_DISTANCE</span><span class="p">)</span> <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">releaseCard</span><span class="p">)</span>
<span class="k">else</span> <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">infoText</span><span class="p">)</span>
</code></pre></div></div> <p>where <code class="language-plaintext highlighter-rouge">MIN_SWIPE_DISTANCE</code> is <code class="language-plaintext highlighter-rouge">-250</code>:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// -250 produces best result, feel free to change to your liking</span>
<span class="k">const</span> <span class="kd">val</span> <span class="py">MIN_SWIPE_DISTANCE</span> <span class="p">=</span> <span class="p">-</span><span class="mi">250</span> <span class="c1">// User should move alteast -250 from mean position to load new quote</span>
</code></pre></div></div> <p>Now, the <code class="language-plaintext highlighter-rouge">ACTION_MOVE</code> event is handled properly. Let’s write the code to handle the <code class="language-plaintext highlighter-rouge">ACTION_UP</code> event, that is, when the card is released.</p> <h2 id="how-to-handle-the-action_up-event">How to handle the <code class="language-plaintext highlighter-rouge">ACTION_UP</code> event</h2> <p>For the <code class="language-plaintext highlighter-rouge">ACTION_UP</code> event, we want the card to come back to its original position, wait for about <code class="language-plaintext highlighter-rouge">100</code> milliseconds, then load a new quote.</p> <p>The logic to animate the card is similar, but this time we will make its animation duration about <code class="language-plaintext highlighter-rouge">150</code> millisecond to make it look smooth.</p> <p>First, create a variable <code class="language-plaintext highlighter-rouge">currentX</code> that holds the current value of the x coordinate of the quote card. We’ll use this variable later.</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">currentX</span> <span class="p">=</span> <span class="n">quoteCard</span><span class="p">.</span><span class="n">x</span>
</code></pre></div></div> <p>Then, start the animation on the card. Pass the <code class="language-plaintext highlighter-rouge">cardStart</code> variable to the <code class="language-plaintext highlighter-rouge">x()</code> function to make it return to its original position and set the duration to <code class="language-plaintext highlighter-rouge">150</code>.</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">quoteCard</span><span class="p">.</span><span class="nf">animate</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">x</span><span class="p">(</span><span class="n">cardStart</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">setDuration</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
<span class="c1">// continued below</span>
</code></pre></div></div> <p>This time, we set a listener on the animation. A listener is something that keeps an eye on the animation. By using it, we can perform actions on various animation events such as start, end, resume, and more.</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// continuation</span>
<span class="p">.</span><span class="nf">setListener</span><span class="p">(</span>
    <span class="kd">object</span> <span class="err">: </span><span class="nc">AnimatorListenerAdapter</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">override</span> <span class="k">fun</span> <span class="nf">onAnimationEnd</span><span class="p">(</span><span class="n">animation</span><span class="p">:</span> <span class="nc">Animator</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">viewLifecycleOwner</span><span class="p">.</span><span class="n">lifecycleScope</span><span class="p">.</span><span class="nf">launch</span><span class="p">(</span><span class="nc">Dispatchers</span><span class="p">.</span><span class="nc">Default</span><span class="p">)</span> <span class="p">{</span>
                <span class="nf">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
                <span class="c1">// check if the swipe distance was more than</span>
                <span class="c1">// minimum swipe required to load a new quote</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">currentX</span> <span class="p">&lt;</span> <span class="nc">MIN_SWIPE_DISTANCE</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">// Add logic to load a new quote if swiped adequately</span>
                    <span class="n">viewModel</span><span class="p">.</span><span class="nf">getRandomQuote</span><span class="p">()</span>
                    <span class="n">currentX</span> <span class="p">=</span> <span class="mf">0f</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="p">.</span><span class="nf">start</span><span class="p">()</span>
</code></pre></div></div> <p>We set a listener to look for the ending of the animation by overriding the <code class="language-plaintext highlighter-rouge">onAnimationEnd()</code> function.</p> <p>As soon as the animation ends, we launch a coroutine (similar to Threads in Java but much more efficient) with a delay of <code class="language-plaintext highlighter-rouge">100</code> milliseconds. It then checks if the user had swiped further than the <code class="language-plaintext highlighter-rouge">MIN_SWIPE_DISTANCE</code> needed to load a new quote. The variable <code class="language-plaintext highlighter-rouge">currentX</code> is used for the comparison here.</p> <p>If the user actually swipes passing the minimum distance, the coroutine is delayed for <code class="language-plaintext highlighter-rouge">100</code> milliseconds. Then the view model loads a new random quote from the API, also resetting the <code class="language-plaintext highlighter-rouge">currentX</code> variable to <code class="language-plaintext highlighter-rouge">0f</code>.</p> <p>The final code for the <code class="language-plaintext highlighter-rouge">ACTION_UP</code> event looks like this:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">MotionEvent</span><span class="p">.</span><span class="nc">ACTION_UP</span> <span class="p">-&gt;</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">currentX</span> <span class="p">=</span> <span class="n">quoteCard</span><span class="p">.</span><span class="n">x</span>
    <span class="n">quoteCard</span><span class="p">.</span><span class="nf">animate</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">x</span><span class="p">(</span><span class="n">cardStart</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">setDuration</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">setListener</span><span class="p">(</span><span class="kd">object</span> <span class="err">: </span><span class="nc">AnimatorListenerAdapter</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">override</span> <span class="k">fun</span> <span class="nf">onAnimationEnd</span><span class="p">(</span><span class="n">animation</span><span class="p">:</span> <span class="nc">Animator</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">viewLifecycleOwner</span><span class="p">.</span><span class="n">lifecycleScope</span><span class="p">.</span><span class="nf">launch</span><span class="p">(</span><span class="nc">Dispatchers</span><span class="p">.</span><span class="nc">Default</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nf">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
                    <span class="c1">// check if the swipe distance was more than</span>
                    <span class="c1">// minimum swipe required to load a new quote</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">currentX</span> <span class="p">&lt;</span> <span class="nc">MIN_SWIPE_DISTANCE</span><span class="p">)</span> <span class="p">{</span>
                    	<span class="c1">// Add logic to load a new quote if swiped adequately</span>
                        <span class="n">viewModel</span><span class="p">.</span><span class="nf">getRandomQuote</span><span class="p">()</span>
                        <span class="n">currentX</span> <span class="p">=</span> <span class="mf">0f</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nf">start</span><span class="p">()</span>
    <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">infoText</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="final-code">Final Code</h2> <p>This is the final code for the complete <code class="language-plaintext highlighter-rouge">onTouchListener()</code>:</p> <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">quoteCard</span><span class="p">.</span><span class="nf">setOnTouchListener</span><span class="p">(</span>
    <span class="nc">View</span><span class="p">.</span><span class="nc">OnTouchListener</span> <span class="p">{</span> <span class="n">v</span><span class="p">,</span> <span class="n">event</span> <span class="p">-&gt;</span>

        <span class="c1">// variables to store current configuration of quote card.</span>
        <span class="kd">val</span> <span class="py">displayMetrics</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="n">displayMetrics</span>
        <span class="kd">val</span> <span class="py">cardWidth</span> <span class="p">=</span> <span class="n">quoteCard</span><span class="p">.</span><span class="n">width</span>
        <span class="kd">val</span> <span class="py">cardStart</span> <span class="p">=</span> <span class="p">(</span><span class="n">displayMetrics</span><span class="p">.</span><span class="n">widthPixels</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span> <span class="p">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">-</span> <span class="p">(</span><span class="n">cardWidth</span> <span class="p">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="k">when</span> <span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">action</span><span class="p">)</span> <span class="p">{</span>
            <span class="nc">MotionEvent</span><span class="p">.</span><span class="nc">ACTION_UP</span> <span class="p">-&gt;</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="py">currentX</span> <span class="p">=</span> <span class="n">quoteCard</span><span class="p">.</span><span class="n">x</span>
                <span class="n">quoteCard</span><span class="p">.</span><span class="nf">animate</span><span class="p">()</span>
                    <span class="p">.</span><span class="nf">x</span><span class="p">(</span><span class="n">cardStart</span><span class="p">)</span>
                    <span class="p">.</span><span class="nf">setDuration</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
                    <span class="p">.</span><span class="nf">setListener</span><span class="p">(</span>
                        <span class="kd">object</span> <span class="err">: </span><span class="nc">AnimatorListenerAdapter</span><span class="p">()</span> <span class="p">{</span>
                            <span class="k">override</span> <span class="k">fun</span> <span class="nf">onAnimationEnd</span><span class="p">(</span><span class="n">animation</span><span class="p">:</span> <span class="nc">Animator</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">viewLifecycleOwner</span><span class="p">.</span><span class="n">lifecycleScope</span><span class="p">.</span><span class="nf">launch</span><span class="p">(</span><span class="nc">Dispatchers</span><span class="p">.</span><span class="nc">Default</span><span class="p">)</span> <span class="p">{</span>
                                    <span class="nf">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

                                    <span class="c1">// check if the swipe distance was more than</span>
                                    <span class="c1">// minimum swipe required to load a new quote</span>
                                    <span class="k">if</span> <span class="p">(</span><span class="n">currentX</span> <span class="p">&lt;</span> <span class="nc">MIN_SWIPE_DISTANCE</span><span class="p">)</span> <span class="p">{</span>
                                        <span class="c1">// Add logic to load a new quote if swiped adequately</span>
                                        <span class="n">viewModel</span><span class="p">.</span><span class="nf">getRandomQuote</span><span class="p">()</span>
                                        <span class="n">currentX</span> <span class="p">=</span> <span class="mf">0f</span>
                                    <span class="p">}</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">)</span>
                    <span class="p">.</span><span class="nf">start</span><span class="p">()</span>
                <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">infoText</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="nc">MotionEvent</span><span class="p">.</span><span class="nc">ACTION_MOVE</span> <span class="p">-&gt;</span> <span class="p">{</span>
                <span class="c1">// get the new co-ordinate of X-axis</span>
                <span class="kd">val</span> <span class="py">newX</span> <span class="p">=</span> <span class="n">event</span><span class="p">.</span><span class="n">rawX</span>

                <span class="c1">// carry out swipe only if newX &lt; cardStart, that is,</span>
                <span class="c1">// the card is swiped to the left side, not to the right</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">newX</span> <span class="p">-</span> <span class="n">cardWidth</span> <span class="p">&lt;</span> <span class="n">cardStart</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">quoteCard</span><span class="p">.</span><span class="nf">animate</span><span class="p">()</span>
                        <span class="p">.</span><span class="nf">x</span><span class="p">(</span>
                            <span class="nf">min</span><span class="p">(</span><span class="n">cardStart</span><span class="p">,</span> <span class="n">newX</span> <span class="p">-</span> <span class="p">(</span><span class="n">cardWidth</span> <span class="p">/</span> <span class="mi">2</span><span class="p">))</span>
                        <span class="p">)</span>
                        <span class="p">.</span><span class="nf">setDuration</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                        <span class="p">.</span><span class="nf">start</span><span class="p">()</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">quoteCard</span><span class="p">.</span><span class="n">x</span> <span class="p">&lt;</span> <span class="nc">MIN_SWIPE_DISTANCE</span><span class="p">)</span> 
                        <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">releaseCard</span><span class="p">)</span>
                    <span class="k">else</span> <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">infoText</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// required to by-pass lint warning</span>
        <span class="n">v</span><span class="p">.</span><span class="nf">performClick</span><span class="p">()</span>
        <span class="k">return</span><span class="nd">@OnTouchListener</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Congrats! In this tutorial, we’ve implemented animation that lets a user swipe a card containing a quote to get a new quote.</p> <p>Don’t forget to download the app and test it out yourself. Stars and contributions on the <a href="https://github.com/gouravkhunger/QuotesApp" rel="dofollow" target="_blank">GitHub repository</a> are welcomed!</p> <h2 id="conclusion">Conclusion</h2> <p>Now you have learned how to animate a card and handle animation listeners on it. This helps create better UX that makes your app stand out.</p> <p>Using the knowledge you gained in this post, you can now create most of the following animations for views in Android:</p> <h4 id="programmatically-create-sliding-animations-for-android-views">Programmatically create sliding animations for Android views.</h4> <p>Just as we did in this tutorial.</p> <h4 id="left-to-right-animation">Left to right animation</h4> <p>This is fairly simple, just turn the subtraction in the variables to addition and <code class="language-plaintext highlighter-rouge">&lt;</code> signs in the <code class="language-plaintext highlighter-rouge">if</code> statements to <code class="language-plaintext highlighter-rouge">&gt;</code> signs. With these few tweaks here and there, the right to left animations in card view can be turned into left to right ones!</p> <h4 id="you-can-also-show-and-hide-views-using-animations">You can also show and hide views using animations.</h4> <p>For this, you have to keep track of the start position and end position then animate them with <code class="language-plaintext highlighter-rouge">alpha()</code> from <code class="language-plaintext highlighter-rouge">0</code> to <code class="language-plaintext highlighter-rouge">1</code>. For an example, you can refer to my library <a href="https://github.com/gouravkhunger/AccoLib" rel="dofollow" target="_blank">Accolib</a> to create animated FAQ accordions.</p> <h4 id="basic-animated-layout-changes-can-be-achieved-with-view-animations">Basic animated layout changes can be achieved with view animations.</h4> <p>Thanks a lot for reading so far, I hope this post added some value. Subscribe to my newsletter(at the top of the article) to stay updated with latest Android content!</p> <p><a href="/contributor/gouravkhunger">Let’s Connect</a></p> </article> </div> <aside class="m-6 md:m-10 lg:my-14 lg:mr-10 lg:-ml-4 md:mr-8 lg:max-w-[25%] xl:max-w-[20%]"> <figure class="bg-white rounded-2xl p-6 md:p-8 shadow-xl shadow-slate-200"> <img class="w-24 h-24 rounded-full mx-auto" src="https://avatars.githubusercontent.com/u/46792249" alt="" loading="lazy"> <div class="pt-4 space-y-4"> <figcaption class="font-medium text-center"> <div> <a href="/contributor/gouravkhunger" class="text-xl font-bold"> Gourav Khunger </a> </div> <div class="text-gray-700 text-sm"> Founder @ Genics Blog </div> </figcaption> <p class="leading-5 font-medium text-justify"> 16 year old passionate App developer. I have interests in web development too. </p> </div> </figure> <figure class="bg-white rounded-2xl p-6 md:p-8 shadow-xl shadow-slate-200 lg:sticky lg:top-24 mt-8"> <ins class="adsbygoogle" style="display:block" data-ad-format="auto" data-full-width-responsive="true" data-ad-client="ca-pub-8114751086331659" data-ad-slot="8698895132"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </figure> </aside> </section> <br> <div align="center"> <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <h1 class="mx-8 md:mx-10 lg:mx-14 -mb-4 lg:-mb-8">Comments</h1> <section class="block lg:flex"> <div class="md:text-lg m-6 md:m-10 lg:m-14 lg:w-full lg:max-w-[65%] xl:max-w-[70%]"> <div class="comments"> <div> <section id="comment-406d5c60-6d21-11ec-8e4c-eb4f4c5fe64a" class="mb-8"> <div class="comment bg-white rounded-2xl shadow-xl shadow-slate-200 mb-2 p-8 bg-white"> <div class="sm:flex sm:items-center"> <img class="rounded-full w-14 h-14" src="https://joeschmoe.io/api/v1/Aryan" loading="lazy"> <div class="sm:ml-4 leading-3"> <span class="text-xl"> Aryan </span> <br> <span class="text-sm">January 4, 2022</span> </div> </div> <div class="mt-4"> <p>nice work buddy</p> </div> <a rel="nofollow" class="px-2.5 py-0.5 mt-4 text-sm rounded-md bg-black text-white hover:shadow-lg hover:scale-110 transition underline-none" onclick="return addComment.moveForm('comment-406d5c60-6d21-11ec-8e4c-eb4f4c5fe64a', 'respond', '406d5c60-6d21-11ec-8e4c-eb4f4c5fe64a')">Reply</a> </div> <section id="comment-c2415560-6d22-11ec-8e4c-eb4f4c5fe64a" class="mb-2"> <div class="comment bg-white rounded-2xl shadow-xl shadow-slate-200 ml-14 p-8 bg-white"> <div class="sm:flex sm:items-center"> <img class="rounded-full w-14 h-14 border-4 border-primary" src="https://avatars.githubusercontent.com/u/46792249" loading="lazy"> <div class="sm:ml-4 leading-3"> <a class="font-extrabold text-xl" href="/author/gouravkhunger"> Gourav </a> <span class="px-2 py-0.5 rounded-md bg-primary text-white text-xs">Author</span> <br> <span class="text-sm">January 4, 2022</span> </div> </div> <div class="mt-4"> <p>Thank you!</p> </div> </div> </section> </section> </div> </div> <div id="respond"> <div class="bg-white rounded-2xl shadow-xl shadow-slate-200 p-8 mt-2 mb-12" id="form-parent"> <h5 id="form-title">Add a comment</h5> <form class="form" method="POST" action="https://comments.genicsblog.com/v2/entry/genicsblog/genicsblog.github.io/main/comment"> <input name="options[slug]" type="hidden" value="swipe-animation-on-a-cardview-android"> <input type="hidden" id="replying-to-id" name="fields[replying_to_id]" value=""> <div> <label for="commentbox-name">Name</label><br> <input name="fields[name]" type="text" id="commentbox-name" placeholder="John Doe" required class="mt-1 w-full rounded-lg px-2 py-1.5 border-2 focus:border-primary outline-none"> </div> <div class="mt-4"> <label for="commentbox-message">Message</label><br> <textarea type="text" name="fields[message]" id="commentbox-message" rows="5" placeholder="Enter your message here. Markdown is supported!" required class="mt-1 w-full rounded-lg px-2 py-1.5 border-2 focus:border-primary outline-none form-control"></textarea> </div> <div> <button class="submit-form px-2.5 py-0.5 mt-4 rounded-md bg-black text-white hover:shadow-lg hover:scale-110 transition"> Submit </button> <button class="hidden ml-2 px-2.5 py-0.5 mt-4 rounded-md bg-black text-white hover:shadow-lg hover:scale-110 transition" id="cancel-reply-btn"> Cancel Reply </button> </div> </form> </div> </div> <script src="/assets/js/comment.js"></script> </div> <aside class="m-8 md:m-10 lg:my-14 lg:mr-10 lg:-ml-4 md:mr-8 lg:max-w-[25%] xl:max-w-[20%]"> <div class="p-6 md:p-8 space-y-4 lg:sticky lg:top-24 rounded-2xl bg-white shadow-xl shadow-slate-200"> <p class="leading-5 font-medium text-justify"> Please adhere to our <a href="/code-of-conduct">Code of Conduct</a> while adding a comment. Respect other's opinion. <br><br> Comments are be moderated before being published. </p> </div> </aside> </section> <br> <div align="center"> <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> </main> <footer class="px-12 py-8 text-center"> © 2021 <a href="/">Genics Blog</a> <br> Built with <a href="https://jekyllrb.com" target="_blank" rel="nofollow noopener noreferrer">Jekyll</a>. Hosted on <a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">GitHub</a>. <br><br> Developed by <a href="https://github.com/gouravkhunger" rel="nofollow noopener noreferrer" target="_blank"> Gourav Khunger </a>. Thanks to the <a href="https://github.com/genicsblog/genicsblog.github.io/graphs/contributors" rel="nofollow noopener noreferrer" target="_blank">contributors</a>! <br><br> <a class="nav-item text-white" href="/terms">T&amp;C</a> <a class="nav-item text-white" href="/privacy-policy">Privacy Policy</a> </footer> <div class="hidden fixed top-0 w-full h-full p-6 md:p-14 backdrop-blur-md cursor-pointer z-20" id="search-container"> <div class="p-4 bg-white mx-auto w-full max-h-full sm:w-3/4 lg:w-1/2 content-center rounded-lg shadow-md shadow-slate-200 cursor-auto overflow-auto" id="search-box"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-slate-400" fill="none" viewbox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <input type="text" class="w-full h-full pl-4 text-2xl outline-none" id="search-input" placeholder="Search..."> </div> <div id="results-container"> </div> </div> </div> <div class="hidden fixed top-0 left-0 flex justify-center items-center w-full h-full backdrop-blur-md shadow-md z-20" id="modal"> <div class="p-4 bg-white w-5/6 sm:w-3/4 lg:w-1/2 content-center rounded-lg shadow-lg shadow-slate-200 cursor-auto"> <div class="flex justify-between"> <span class="text-xl md:text-2xl" id="modal-title">Comment submitted!</span> <button id="close" aria-label="Close modal"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 sm:h-8 sm:w-8" fill="none" viewbox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> <p class="mt-6" id="modal-message"></p> </div> </div> <script src="/assets/js/theme.js"></script> <script src="/assets/js/search.js"></script> <script src="/assets/js/prism.js"></script> </body> </html>