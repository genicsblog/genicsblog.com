<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="The ultimate guide to building a CRUD API with Node.js and MongoDB from scratch."> <meta name="twitter:description" content="The ultimate guide to building a CRUD API with Node.js and MongoDB from scratch."> <meta property="og:description" content="The ultimate guide to building a CRUD API with Node.js and MongoDB from scratch."> <meta property="og:title" content="Building a CRUD API with Node.js and MongoDB"> <meta property="og:image" content="https://user-images.githubusercontent.com/76690419/148522889-a8618d72-4e52-4a78-b452-7690e9135709.png"> <meta property="og:image:alt" content="Building a CRUD API with Node.js and MongoDB"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@genicsblog"> <meta name="twitter:image" content="https://user-images.githubusercontent.com/76690419/148522889-a8618d72-4e52-4a78-b452-7690e9135709.png"> <meta name="twitter:creator" content="@avneesh0612"> <meta property="og:type" content="article"> <meta property="article:section" content="backend"> <meta property="article:tag" content="node-js, mongodb, api"> <meta property="article:author" content="https://genicsblog.com/author/avneesh/"> <meta property="article:published_time" content="2022-01-07T00:00:00+0000"> <meta property="og:url" content="https://genicsblog.com/avneesh/building-a-crud-api-with-node-js-and-mongodb"> <meta name="theme-color" content="#16161f"> <meta name="msapplication-TileColor" content="#16161f"> <meta name="msapplication-navbutton-color" content="#16161f"> <meta name="apple-mobile-web-app-status-bar-style" content="#16161f"> <link rel="canonical" href="https://blog.avneesh.tech/building-a-crud-api-with-nodejs-and-mongodb"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Sen&amp;display=swap" rel="stylesheet"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"> <link rel="stylesheet" href="/assets/css/theme.css"> <link rel="stylesheet" href="/assets/css/prism.css"> <link rel="manifest" href="/manifest.json"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-KQJM9Z9N1Z"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KQJM9Z9N1Z");</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8114751086331659" crossorigin="anonymous"></script> <script src="https://proxy.beyondwords.io/npm/@beyondwords/player@latest/dist/umd.js"></script> <title>Building a CRUD API with Node.js and MongoDB</title> </head> <body> <nav> <p class="bg-primary p-3 text-center text-white font-medium flex flex-col sm:block"> <span class="md:hidden px-1">Connect with us on discord to stay updated.</span> <span class="hidden md:inline px-1">Connect with us on discord to stay updated on the blog's development.</span> <a href="https://discord.genicsblog.com" target="_blank" class="font-bold underline header-anchor hover:text-slate-300" rel="nofollow noopener noreferrer"> Join &gt; </a> </p> <header class="w-full top-0 z-10" id="navbar"> <div class="bg-background max-h-20 py-1 px-3 sm:px-8 lg:px-8 mx-auto"> <div class="flex justify-between h-16"> <div class="flex lg:px-0"> <a class="group flex-shrink-0 flex items-center logo-anchor" href="/" aria-label="Home Page Link"> <div class="flex items-center space-x-2 whitespace-nowrap flex-nowrap"> <div class="h-8 w-8 md:mx-2"> <svg class="h-8 w-8 fill-white group-hover:fill-slate-300" viewbox="0 0 79.784508 91.197495" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2"></defs> <g id="layer1" transform="translate(-68.235445,-52.679805)"> <path id="path962" style=" stroke: none; stroke-width: 0.999999px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 408.73047,210.44336 -139.49414,80.59961 0.87109,162.49414 52.71289,-32.94922 85.34766,48.85938 87.42773,-48.85743 -0.63476,-53.22851 -84.8711,-0.88477 v 27.79297 h 56.02735 v 9.45508 l -58.31446,33.66797 -56.13085,-32.4082 0.63476,-66.94922 55.81836,-32.22461 57.25195,32.76172 82.41016,-47.75782 z m 0.43945,32.62695 83.28125,48.08203 -26.93555,15.55274 -57.21484,-33.0332 -84.18359,48.60351 v 66.39453 l -25.48047,14.71094 0.084,-96.54102 z" transform="scale(0.26458333)"></path> <path style=" stroke: none; stroke-width: 0.264583px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 81.889144,125.74786 26.204966,15.12944 36.92584,-21.31914 V 88.998204 l -7.22758,4.172845 V 115.03627 L 108.1902,132.12709 89.310794,121.22706 Z" id="path1416"></path> </g> </svg> </div> <span class="font-bold hidden sm:block text-xl tracking-tight text-white group-hover:text-slate-300"> Genics Blog</span> </div> </a> </div> <div class="flex items-center h-16"> <div class="hidden lg:block"> <a class="nav-item text-white" href="/topics">Topics</a> <a class="nav-item text-white" href="/about">About Us</a> <a class="nav-item text-white" href="/contact">Contact</a> <a class="nav-item text-white" target="_blank" href="https://docs.genicsblog.com">Docs</a> </div> <button onclick="showSearch()" aria-label="Search across the site..."> <svg xmlns="http://www.w3.org/2000/svg" class="ml-4 h-6 w-6 stroke-white hover:stroke-slate-300" fill="none" viewbox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </button> <button type="button" class="ml-2" onclick="saveTheme(isDark() ? LIGHT : DARK)" title="Ctrl + Shift + L"> <svg viewbox="0 0 512 512" class="h-8 w-8 fill-white hover:fill-slate-300 transition-all" id="theme-toggle-icon"> <g> <path d="M262.524,164.624c-49.466,0-89.592,40.119-89.592,89.596c0,49.487,40.126,89.606,89.592,89.606 c49.487,0,89.613-40.119,89.613-89.606C352.138,204.743,312.012,164.624,262.524,164.624z M262.524,320.136 c-36.39,0-65.902-29.513-65.902-65.916c0-36.396,29.513-65.903,65.902-65.903c36.41,0,65.924,29.506,65.924,65.903 C328.448,290.623,298.935,320.136,262.524,320.136z"></path> <path d="M264.078,149.221c0,0-39.031-73.758,0-73.758C303.103,75.462,264.078,149.221,264.078,149.221z"></path> <path d="M261.922,363.328c0,0,39.053,73.737,0,73.737C222.905,437.045,261.922,363.328,261.922,363.328z"></path> <path d="M186.536,331.194c0,0-24.539,79.766-52.142,52.148C106.817,355.746,186.536,331.194,186.536,331.194z"></path> <path d="M155.941,255.181c0,0-73.745,39.048-73.745,0C82.224,216.177,155.941,255.181,155.941,255.181z"></path> <path d="M188.068,179.794c0,0-79.746-24.524-52.142-52.142C163.503,100.086,188.068,179.794,188.068,179.794z"></path> <path d="M428.852,254.552c0,49.668-40.276,89.931-89.935,89.931c-49.657,0-89.928-40.263-89.928-89.931 c0-49.672,40.271-89.928,89.928-89.928C388.575,164.624,428.852,204.88,428.852,254.552z"></path> </g> </svg> </button> <a class="ml-2 md:ml-4 px-2.5 py-1.5 font-bold rounded-md text-black bg-white hover:bg-slate-300 hover:scale-110 transition underline-none" href="/contribute">Contribute</a> <div class="ml-4 lg:hidden cursor-pointer"> <div id="menu-btn" class="h-8 w-8 relative" onclick="toggleNav()"> <div class="menu-btn-lines"></div> </div> </div> </div> </div> </div> <div class="top-0 bg-background hidden p-6 lg:hidden" id="mobile-nav"> <div class="grid grid-cols-2 gap-y-2 gap-x-4"> <a class="group mobile-nav-item " href="/topics"> <span class="group-hover:text-white">Topics</span> </a> <a class="group mobile-nav-item " href="/about"> <span class="group-hover:text-white">About Us</span> </a> <a class="group mobile-nav-item " href="/contact"> <span class="group-hover:text-white">Contact</span> </a> <a class="group mobile-nav-item" href="https://docs.genicsblog.com" target="_blank"> <span class="group-hover:text-white">Documentation</span> </a> </div> </div> </header> </nav> <header class="banner"> <div class="flex flex-col lg:flex-row p-2"> <div class="flex justify-center items-center lg:w-1/2 md:mb-0"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://user-images.githubusercontent.com/76690419/148522889-a8618d72-4e52-4a78-b452-7690e9135709.png" class="m-8 w-full rounded-xl shadow-xl aspect-video max-w-3xl" loading="lazy"> </div> <div class="flex flex-col justify-center lg:items-start w-full lg:w-1/2 lg:ml-12 max-w-3xl"> <h1 class="text-4xl font-black tracking-tight">Building a CRUD API with Node.js and MongoDB</h1> <span class="mt-0.5 text-justify">The ultimate guide to building a CRUD API with Node.js and MongoDB from scratch.</span> <div class="flex items-center mt-8"> <a class="underline-none" href="/author/avneesh/"> <img class="rounded-full w-14 h-14" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/76690419" loading="lazy"> </a> <div class="ml-4 leading-3"> <a class="font-extrabold text-xl" href="/author/avneesh/"> Avneesh Agarwal </a> <br> <span class="text-sm"> Posted on January 7, 2022 </span> </div> </div> <div class="mt-8"> <span>Category: </span> <a class="text-sm ml-2 archive-name !bg-backend underline-none" href="/category/backend">#backend</a> </div> <div class="mt-4 sm:mt-3"> <span>Tags: </span> <a class="text-sm ml-2 my-0.5 archive-name !bg-node-js underline-none" href="/tag/node-js">#node-js</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-mongodb underline-none" href="/tag/mongodb">#mongodb</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-api underline-none" href="/tag/api">#api</a> </div> </div> </div> </header> <main> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <section class="lg:flex lg:justify-center"> <div class="content-area elevated"> <div class="notice"> <span class="text-base italic leading-8"> Originally published at <a href="https://blog.avneesh.tech/building-a-crud-api-with-nodejs-and-mongodb" target="_blank" rel="nofollow noopener noreferrer">blog.avneesh.tech</a>. </span> </div> <article class="p-6 md:p-8"> <div class="mb-6" id="audio-player" data-audio-id="3468642"></div> <p data-beyondwords-marker="2d24e8fb-124c-4e00-b7d4-1305923c2a3d">Howdy everyone, in this article we are going to build a CRUD (Create, Read, Update, Delete) API with <a href="https://nodejs.org/" rel="nofollow noopener noreferrer" target="_blank">Node.js</a> and <a href="https://www.mongodb.com/" rel="nofollow noopener noreferrer" target="_blank">MongoDB</a>. This API will be able to add, get, edit and delete todos!</p> <h2 id="setting-up-our-node-app" data-beyondwords-marker="a3798dae-d92b-46b8-af23-a9d529584b95">Setting up our node app</h2> <p data-beyondwords-marker="b023f4bf-fb1e-44ce-ad08-7527f345b479">Create a new folder and give it a name-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>crud-API
</code></pre></div></div> <p data-beyondwords-marker="4ddb10ce-e57e-4dd4-aca6-f4e44d2a85f3">Navigate into the project-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>crud-API
</code></pre></div></div> <p data-beyondwords-marker="c2c58173-6175-443a-b7c2-e60044b1141e">Initialize node-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm init <span class="nt">-y</span>
</code></pre></div></div> <p data-beyondwords-marker="9aa138a8-99ad-4f5a-b102-da9106c3a368">Installing the packages needed-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm <span class="nb">install </span>mongoose express dotenv cors
</code></pre></div></div> <p data-beyondwords-marker="5ee63c28-1c56-4008-9ab1-69b95c8c6355">Installing nodemon as dev dependency-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-D</span> nodemon
</code></pre></div></div> <h2 id="creating-our-server" data-beyondwords-marker="1d6f34af-0249-4fd5-b624-a17671983432">Creating our server</h2> <p data-beyondwords-marker="77b00142-8907-4b8f-b949-7af823e61d14">Create a new file <code class="language-plaintext highlighter-rouge">index.js</code> and add the following-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">PORT</span> <span class="o">=</span> <span class="mi">8000</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nf">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">listen</span><span class="p">(</span><span class="nx">PORT</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`server up on port </span><span class="p">${</span><span class="nx">PORT</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div> <p data-beyondwords-marker="65c63334-e634-44e2-b18d-f9c56e10bde7">Open <code class="language-plaintext highlighter-rouge">package.json</code> and inside <code class="language-plaintext highlighter-rouge">scripts</code> block add this new script-</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nodemon index.js"</span><span class="w">
</span></code></pre></div></div> <p data-beyondwords-marker="592b3375-e038-4672-9fae-b71ef38756d0">If you now run <code class="language-plaintext highlighter-rouge">npm run start</code> it will show <strong>server up on port 8000</strong> in the console</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641473134275/mzJa8km_l.png" alt="image.png" loading="lazy"></p> <h2 id="creating-the-router-and-routes" data-beyondwords-marker="2f4595ae-beb0-4c0d-9dbf-6c00797c9d51">Creating the router and routes</h2> <p data-beyondwords-marker="2c003f55-7b7e-4475-af74-295a5175e858">Create a new file <code class="language-plaintext highlighter-rouge">router.js</code> and add the following-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">).</span><span class="nc">Router</span><span class="p">();</span>

<span class="nx">router</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">Let's build a CRUD API!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></div></div> <p data-beyondwords-marker="6a54fea6-f896-4467-a218-d0a480a56700">This will create a new get create route on the home page. So let’s use the router in our app now. Go back to <code class="language-plaintext highlighter-rouge">index.js</code> and add a middleware like this-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="nx">router</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="80aac7fc-26de-4073-923d-65a3625d685a">We also need to import router-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./router</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="f893c063-90ce-4fac-8fd4-9f977d8450e8">If you now go to <a href="http://localhost:8000/" rel="nofollow noopener noreferrer" target="_blank">http://localhost:8000/</a> we can see “Let’s build a CRUD API!” 🥳</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641481274514/hRJsLjpPi.png" alt="image.png" loading="lazy"></p> <h2 id="setting-up-mongodb" data-beyondwords-marker="b53fdf0e-944b-4883-80dd-7a0660899da1">Setting up MongoDB</h2> <p data-beyondwords-marker="0c3308f5-4de4-4cc9-b0c0-c513f562a397">Go to <a href="https://www.mongodb.com/" rel="nofollow noopener noreferrer" target="_blank">MongoDB</a> and sign up/login. After you sign in click on create a new project and give your project a name!</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641481563753/QrhtaOhMY.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="bcdb1f53-5eb3-46d0-943d-f51368dfae3b">You can also add a member if you want but I am not going to do that right now.</p> <p data-beyondwords-marker="c04d4166-476c-4b85-966b-fd8ab8f186f2">After the project has been created, click on <em>Build a database</em>. You will be able to see 3 plans to choose from. We are good to go with the free one for now. It will prompt you to select a location for your database, I would recommend you to go with the closes one :)</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641481727736/lNwDldKp-.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="8936e9bc-327c-4740-b92f-fab8f87204a0">Create a new user with a username and password, you are going to need this to connect MongoDB to your node.js app so don’t forget it so fast :P. Now, select database in the sidebar. It will probably show you that the cluster is being created so wait for some time.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641481882117/HGe6n3j1a.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="d9d8eecb-2474-4118-a11d-d4f00468564f">After the database is created click on <strong>Connect</strong>. You can allow access from everywhere for now.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641481984705/7NRmEugH-.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="bf84f56a-27e9-4460-8dd7-38deac04bf26">Finally, click on choose a connection method then connect your application. Copy the URL that you get as we are going to need it now.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641482056780/HJxQtKqHQ.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="04f12bc9-89ac-4e1e-8d7a-c028bf9e16ef">Let’s head back to our code now.</p> <h2 id="connecting-mongodb-to-nodejs" data-beyondwords-marker="0e2ed9a8-ea7d-40c3-8c7a-8941b8082e6b">Connecting MongoDB to Node.js</h2> <p data-beyondwords-marker="9c9ef234-ed07-4169-83b7-88ce6eb68e73">Inside of our app create a new file <code class="language-plaintext highlighter-rouge">.env</code> and create a new variable <code class="language-plaintext highlighter-rouge">MONGODB_URL</code> like this-</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MONGODB_URL=mongodb+srv://avneesh0612:password&gt;@cluster0.wz3aq.mongodb.net/myFirstDatabase?retryWrites=true&amp;w=majority
</code></pre></div></div> <p data-beyondwords-marker="3ecc9d0f-2b57-4e79-b72e-d510c3acc870">You need to replace the URL with the one you got from MongoDB and also change the password to your actual password.</p> <p data-beyondwords-marker="6c57bc95-aa5d-4b95-9161-7f54151aeabf">Go to <code class="language-plaintext highlighter-rouge">index.js</code> and add in the following for connecting our app to MongoDB-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">mongoose</span>
  <span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">MONGODB_URL</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">useNewUrlParser</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">useUnifiedTopology</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Connected to MongoDB</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div></div> <p data-beyondwords-marker="3eeb8d8b-e9b6-47f3-a328-28ec669cf7fe">Import mongoose-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mongoose</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="9d2b6296-4db7-4f74-80fd-59d9fd9e259d">You also need to restart the server as we have changed the env variables. So, cut the server and restart the dev server with <code class="language-plaintext highlighter-rouge">npm start</code></p> <p data-beyondwords-marker="bded0b27-24ad-46e5-9c1c-fd408d3639e9">This is going to give us an error as we haven’t configured our env variables yet, so you need to add just these two lines-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">dotenv</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">dotenv</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">dotenv</span><span class="p">.</span><span class="nf">config</span><span class="p">();</span>
</code></pre></div></div> <p data-beyondwords-marker="953c13d9-9ac2-4096-94ca-14fa314dfe1f">It finally shows us that our app is connected to MongoDB!</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641482554808/XVseGRbMW.png" alt="image.png" loading="lazy"></p> <h2 id="creating-the-model-for-our-todo" data-beyondwords-marker="e47ff26d-dda1-48a3-8092-8ebe752dc020">Creating the Model for our Todo</h2> <p data-beyondwords-marker="0ad427c2-6614-4c06-ab18-22ff2c397912">We are going to create a new folder <code class="language-plaintext highlighter-rouge">Model</code> to keep things organized. So, create a new folder <code class="language-plaintext highlighter-rouge">Model</code> and a file <code class="language-plaintext highlighter-rouge">Todo.js</code> inside of it. Our model is going to have only 4 things- <code class="language-plaintext highlighter-rouge">title</code>, <code class="language-plaintext highlighter-rouge">description</code>, <code class="language-plaintext highlighter-rouge">completed</code>, and <code class="language-plaintext highlighter-rouge">createdAt</code>. So add the following in <code class="language-plaintext highlighter-rouge">Todo.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mongoose</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">TodoSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nc">Schema</span><span class="p">({</span>
  <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span>
    <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">description</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">completed</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nb">Boolean</span><span class="p">,</span>
    <span class="na">default</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">createdAt</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nb">Date</span><span class="p">,</span>
    <span class="na">default</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nf">model</span><span class="p">(</span><span class="dl">"</span><span class="s2">Todo</span><span class="dl">"</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="51c0af0b-b386-4dfd-b368-8c510db6bd9f">If you want to have more/less data then feel free to edit this.</p> <h2 id="creating-crud-functionality" data-beyondwords-marker="012d120d-f90d-42ca-8e51-8f5737228367">Creating CRUD functionality</h2> <p data-beyondwords-marker="43c5bbfc-68ee-4d4f-89c5-0b1c97b3bdeb">Create a new folder <code class="language-plaintext highlighter-rouge">controllers</code> and <code class="language-plaintext highlighter-rouge">Todo.js</code> inside of it. I am going to create a dummy function for now-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">getTodos</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">I am the get todos route</span><span class="dl">"</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">getTodos</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="591a2d01-b7fd-47a5-b72c-c1940ba625c1">Now, go to <code class="language-plaintext highlighter-rouge">router.js</code> and create a new get route like this-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">router</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">/todos</span><span class="dl">"</span><span class="p">,</span> <span class="nx">getTodos</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="40dbcf17-5159-4d61-a36a-f3e95a5924c9">You also need to import <code class="language-plaintext highlighter-rouge">getTodos</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">getTodos</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./controllers/Todo</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="1bda0d84-19e5-4c00-9334-3a141db5b093">If you now go to <a href="http://localhost:8000/todos" rel="nofollow noopener noreferrer" target="_blank">http://localhost:8000/todos</a> then it will show you “I am the get todos route”</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641483166717/V3avffkKx.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="1cd4e457-1a38-40eb-9c14-906961108c70">First, let’s build the create functionality then we will do the read functionality!</p> <h3 id="building-create-functionality" data-beyondwords-marker="d3ba9bba-c457-4483-b1f9-cccd00191a64">Building Create functionality</h3> <p data-beyondwords-marker="edd83c42-a8b4-4449-be2d-d696a1d278fc">Create a new POST todos route in <code class="language-plaintext highlighter-rouge">router.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">router</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">/todos</span><span class="dl">"</span><span class="p">,</span> <span class="nx">createTodo</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="ee70aac8-15ca-4586-a9ff-d2d45793df25">Import <code class="language-plaintext highlighter-rouge">createTodo</code> from the controller-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">getTodos</span><span class="p">,</span> <span class="nx">createTodo</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./controllers/Todo</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="37dc8a30-1818-4b5e-8eb0-bcbbafd9bcae">Now create a new function in <code class="language-plaintext highlighter-rouge">controllers/Todo.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">createTodo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Todo</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">description</span><span class="p">,</span>
    <span class="na">completed</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">completed</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="nx">todo</span><span class="p">.</span><span class="nf">save</span><span class="p">((</span><span class="nx">err</span><span class="p">,</span> <span class="nx">todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">todo</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="e8c2ec83-fc79-4a2f-99d3-67b40d1aee33">This is going to take the <code class="language-plaintext highlighter-rouge">title</code>, <code class="language-plaintext highlighter-rouge">description</code>, and <code class="language-plaintext highlighter-rouge">completed</code> from the body and create a new Todo from the model that we created. Also, it will save it to to the database with the <code class="language-plaintext highlighter-rouge">.save</code> function. We also need to import <code class="language-plaintext highlighter-rouge">Todo</code> like this-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Todo</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../model/Todo</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="026dffce-03bc-46a5-9d46-57b0527f67a7">We also need to export <code class="language-plaintext highlighter-rouge">createTodo</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">getTodos</span><span class="p">,</span>
  <span class="nx">createTodo</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="896f5b26-5db8-465a-aef7-45e89e07767e">I am going to use <a href="https://www.postman.com/" rel="nofollow noopener noreferrer" target="_blank">Postman</a> for testing the API. You can use any client :). So open postman and create a new post request to <a href="http://localhost:8000/todos" rel="nofollow noopener noreferrer" target="_blank">http://localhost:8000/todos</a> with this in the body-</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Title 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Description 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641537330553/BScnjJoIT.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="42e969c8-93d4-4683-928c-3a5e92fbc9d3">Let’s hit send 🥁, and we get an error.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641537369607/4CGUbdzCe.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="1a4b74a4-235e-4b66-a469-00fde2f5f70b">We get this error because we haven’t used some middleware. So inside of <code class="language-plaintext highlighter-rouge">index.js</code> just above <code class="language-plaintext highlighter-rouge">app.use(router)</code> and below <code class="language-plaintext highlighter-rouge">mongoose.connect()</code> add the following middlewares-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="nf">cors</span><span class="p">());</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="nf">json</span><span class="p">());</span>
<span class="nx">app</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="nf">urlencoded</span><span class="p">({</span> <span class="na">extended</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}));</span>
</code></pre></div></div> <p data-beyondwords-marker="2865f75b-9f7a-4297-9ac6-0d11979bd249">We also need to import <code class="language-plaintext highlighter-rouge">cors</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">cors</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">cors</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="0ec78cad-9bff-4040-8a36-7bf4602e2c66">If we re-run the request on Postman, it works!</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641537549997/iTXN_7pGn.png" alt="image.png" loading="lazy"></p> <h3 id="building-read-functionality" data-beyondwords-marker="c9b325ed-3537-434c-be51-96e289391c4c">Building Read functionality</h3> <p data-beyondwords-marker="595db00c-42eb-4956-a3ce-f404a0b31c7a">We are going to need to change the <code class="language-plaintext highlighter-rouge">getTodos</code> function that we created. So, replace the function with this-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">getTodos</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">Todo</span><span class="p">.</span><span class="nf">find</span><span class="p">((</span><span class="nx">err</span><span class="p">,</span> <span class="nx">todos</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="be2074cd-3f82-4864-acc2-7ec20517068b">This is going to show all the todos in the collection of “Todos”, now if we make a <code class="language-plaintext highlighter-rouge">GET</code> request to <a href="http://localhost:8000/todos" rel="nofollow noopener noreferrer" target="_blank">http://localhost:8000/todos</a> then it will show us all the todos!</p> <p data-beyondwords-marker="197bf10e-cb77-41e2-acfd-3a49180afc87">Currently, we only have one todo.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641538593222/J52-Pqe-S.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="112f6755-0f9d-4969-867e-97b8aac23fe5">We can also test this by adding another todo and it will then show us both the todos.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641538653691/LMuxHDP8z.png" alt="image.png" loading="lazy"></p> <h3 id="edit-functionality" data-beyondwords-marker="e356d873-1641-42c3-b2f7-cdd1d8660e06">Edit functionality</h3> <p data-beyondwords-marker="f6105db9-017d-4044-b753-7022f9c7f49a">Create a new <code class="language-plaintext highlighter-rouge">PUT</code> route in <code class="language-plaintext highlighter-rouge">router.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">router</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="dl">"</span><span class="s2">/todos/:todoID</span><span class="dl">"</span><span class="p">,</span> <span class="nx">updateTodo</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="7ac8bb84-a400-487b-8d34-15c5f6893db4">Import it from <code class="language-plaintext highlighter-rouge">controllers/Todo.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">getTodos</span><span class="p">,</span> <span class="nx">createTodo</span><span class="p">,</span> <span class="nx">updateTodo</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./controllers/Todo</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="8e067637-ecf7-4770-805c-09e11afa7949">Inside <code class="language-plaintext highlighter-rouge">controllers/Todo.js</code> let’s build our <code class="language-plaintext highlighter-rouge">updateTodo</code> function-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">updateTodo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">Todo</span><span class="p">.</span><span class="nf">findOneAndUpdate</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">_id</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">todoID</span> <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">$set</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">title</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span>
        <span class="na">description</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">description</span><span class="p">,</span>
        <span class="na">completed</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">completed</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="na">new</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
    <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">Todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">Todo</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="602a5c47-83c3-4c72-b234-81d7c4d9efad">This will take a new <code class="language-plaintext highlighter-rouge">title</code>, <code class="language-plaintext highlighter-rouge">description</code>, and <code class="language-plaintext highlighter-rouge">completed</code> field from the request body and update it according to the id in the URL. So, in postman create a new PUT request to <a href="http://localhost:8000/todos/todo_id" rel="nofollow noopener noreferrer" target="_blank">http://localhost:8000/todos/todo_id</a>. You also need to provide data in the body-</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Title 3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Description 3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p data-beyondwords-marker="fe729ad3-3aff-4e8e-bea5-ebd51b3d6b1b">It works! 🎉</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641539951484/KDMf5aZSv.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="7a46c3cc-9396-41f5-87d7-6ed115518a54">If you make a new GET request, you will see the updated todos.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641540003110/QPfvHNrPF.png" alt="image.png" loading="lazy"></p> <h3 id="delete-functionality" data-beyondwords-marker="a86e6353-9b84-4205-9a92-95e11d9447b7">Delete functionality</h3> <p data-beyondwords-marker="7f54e5e5-cb79-4b8f-b71a-605a563c50cc">Create another route in <code class="language-plaintext highlighter-rouge">router.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">router</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="dl">"</span><span class="s2">/todos/:todoID</span><span class="dl">"</span><span class="p">,</span> <span class="nx">deleteTodo</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="1d7bd3ab-fdc9-4435-b4dc-6ba770bd19da">You also need to import as always-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span>
  <span class="nx">getTodos</span><span class="p">,</span>
  <span class="nx">createTodo</span><span class="p">,</span>
  <span class="nx">updateTodo</span><span class="p">,</span>
  <span class="nx">deleteTodo</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./controllers/Todo</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <p data-beyondwords-marker="4fad40ef-f727-4a17-9f3f-ae64854bc96a">Finally, create a new function in <code class="language-plaintext highlighter-rouge">Todo.js</code>-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">deleteTodo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">Todo</span><span class="p">.</span><span class="nf">deleteOne</span><span class="p">({</span> <span class="na">_id</span><span class="p">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">todoID</span> <span class="p">})</span>
    <span class="p">.</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Todo Deleted</span><span class="dl">"</span> <span class="p">}))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="177638f4-e47e-41ae-ab90-ce82869c8099">This will take the <code class="language-plaintext highlighter-rouge">todoID</code> from the URL and delete it. Export the function-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">getTodos</span><span class="p">,</span>
  <span class="nx">createTodo</span><span class="p">,</span>
  <span class="nx">updateTodo</span><span class="p">,</span>
  <span class="nx">deleteTodo</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div> <p data-beyondwords-marker="e314fd92-9576-414b-9c12-431cff9ce8fb">Let’s put it to the test now. It works now!</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641540501970/J51YyZxZ2l.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="afc97431-e964-483d-9677-cfb7fc5f2f9d">We now have a fully working CRUD API! Let’s deploy it to Heroku.</p> <h2 id="deploying-to-heroku" data-beyondwords-marker="75e116fa-4556-4e6a-ba00-54f52598d137">Deploying to Heroku</h2> <h3 id="creating-a-github-repo" data-beyondwords-marker="458fbcbb-47d3-475f-a688-e2357947ed3a">Creating a GitHub repo</h3> <p data-beyondwords-marker="a3586045-04d9-4c32-97c1-5e5715026517">Initialize git-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
</code></pre></div></div> <p data-beyondwords-marker="61b1cc78-a0e0-4dbb-aea9-9a7e30c80026">Create a new file <code class="language-plaintext highlighter-rouge">.gitignore</code> and add the node modules in it-</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/node_modules
</code></pre></div></div> <p data-beyondwords-marker="f07e906b-b1e4-46ec-b1eb-ab369ce4d79e">Commit the code-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>

git commit <span class="nt">-m</span> <span class="s2">"your commit message"</span>
</code></pre></div></div> <p data-beyondwords-marker="f7ba779e-a164-4795-98ba-e87589856329">Go to GitHub and create a <a href="https://github.com/new" rel="nofollow noopener noreferrer" target="_blank">New Repo</a>. You can give it any name you like!</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641540984748/ODEVW_8Oh.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="f8a246bc-b712-481e-9135-bcb9c0db560c">Copy the commands in “push an existing repository from the command line” and paste it into your terminal.</p> <p data-beyondwords-marker="9b90ea78-e842-4662-be22-ff1bd38c3b33">If you now refresh the page, you will be able to see your code!</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641541147661/83n1nZ7ZS.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="ac2c66f6-53dd-4736-b195-ab7583e7416a">Now, go to <a href="https://heroku.com/" rel="nofollow noopener noreferrer" target="_blank">heroku</a>, sign in/sign up. Then, create a new app</p> <p data-beyondwords-marker="bce7bf2c-bf1e-478c-92ab-897a564cbd1c">Give your app a name and hit “Create app”</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641541408361/svlAnPnpX.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="baefe93b-000a-47d0-88ef-b21c89e37ff0">Connect GitHub and select your repository.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641541552495/D52ZnJBfg.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="5fc218f4-8c80-4cf7-bcf5-708ec59ba58b">You can enable automatic deploys and also click on deploy branch.</p> <p data-beyondwords-marker="b43cb5c7-eb3b-4474-80da-c0d2ef7dd673">We also need to add the env variables, so go to the settings tab, scroll down to Config Vars and paste in the variable.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1641541717089/Ffo01DZdp.png" alt="image.png" loading="lazy"></p> <p data-beyondwords-marker="27767ae7-da99-48a0-88c3-0bd769f90d3f">You are going to see an error in your app, so head back to the code! Inside <code class="language-plaintext highlighter-rouge">package.json</code> change the start script to-</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node index.js
</code></pre></div></div> <p data-beyondwords-marker="594a791c-ee28-4e6c-bd18-ccfb8720fbd5">The script should look like this-</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node index.js"</span><span class="w">
</span></code></pre></div></div> <p data-beyondwords-marker="59b0b902-f6e9-4ea3-99cc-356909296d93">We also need to change the port, so inside <code class="language-plaintext highlighter-rouge">index.js</code> change port to this-</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">PORT</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">8000</span><span class="p">;</span>
</code></pre></div></div> <p data-beyondwords-marker="702da73e-abf8-4bca-8f05-acd6c4529d42">Now, you can push the code again!</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>

git commit <span class="nt">-m</span> <span class="s2">"fix: deploy errors"</span>

git push
</code></pre></div></div> <p data-beyondwords-marker="c04cddf9-3c60-4d33-9586-fd6086f0d165">If you enabled automatic deploys then it will deploy automatically, else manually deploy the branch. Now our API successfully works!</p> <p data-beyondwords-marker="9393b3a6-7a2c-4fda-aaa7-9e14b96f2c07"><a href="https://crud-api-demo.herokuapp.com/" rel="nofollow noopener noreferrer" target="_blank">Here is the API</a> if you want to try it out.</p> <h2 id="conclusion" data-beyondwords-marker="9776a856-57a1-45de-bada-f135f8e1aecb">Conclusion</h2> <p data-beyondwords-marker="adaffd5c-ac26-44d0-8857-0f5723a57f1c">Hope you were able to build an amazing CRUD API for your next project. Feel free to drop your questions below 😉. See ya in the next one ✌️</p> <h3 id="useful-links">Useful links</h3> <p><a href="https://github.com/avneesh0612/crud-api" rel="nofollow noopener noreferrer" target="_blank">GitHub repo</a></p> <p><a href="https://crud-api-demo.herokuapp.com/todos" rel="nofollow noopener noreferrer" target="_blank">API we built</a></p> <p><a href="https://links.avneesh.tech/" rel="nofollow noopener noreferrer" target="_blank">Connect with me</a></p> </article> <hr> <div class="px-6 pb-6 md:px-8 md:pb-8 flex flex-col items-center rounded-bl-2xl rounded-br-2xl"> <p class="text-center mb-4"> Join discussions at <a href="https://discord.genicsblog.com" target="_blank" class="cta-link"> our discord server &gt; </a> <br> Did you learn something new? Add a comment below and spread the word! </p> <div class="grid grid-flow-col gap-6"> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://facebook.com/sharer.php?u=https://genicsblog.com/avneesh/building-a-crud-api-with-node-js-and-mongodb" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/facebook.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://api.whatsapp.com/send?text=Checkout%20this%20amazing%20article%20at%20Genics%20Blog%20'Building%20a%20CRUD%20API%20with%20Node.js%20and%20MongoDB':%20https://genicsblog.com/avneesh/building-a-crud-api-with-node-js-and-mongodb" onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/whatsapp.svg" class="social-image w-10 h-10" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://genicsblog.com/avneesh/building-a-crud-api-with-node-js-and-mongodb" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/linkedin.svg" class="social-image w-7 h-7" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://twitter.com/intent/tweet?text=Check%20out%20this%20amazing%20article%20by%20@avneesh0612%20at%20@genicsblog:%20Building%20a%20CRUD%20API%20with%20Node.js%20and%20MongoDB&amp;url=https://genicsblog.com/avneesh/building-a-crud-api-with-node-js-and-mongodb" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="social-link underline-none" rel="nofollow noopener noreferrer" href="https://www.snapchat.com/scan?attachmentUrl=https://genicsblog.com/avneesh/building-a-crud-api-with-node-js-and-mongodb" onclick="window.open(this.href, 'snapchat-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/snapchat.svg" class="social-image w-14 h-14 -m-2" loading="lazy"> </a> </div> </div> </div> <aside class="sidebar-area"> <figure class="p-6 md:p-8 elevated"> <a class="underline-none" href="/author/avneesh/"> <img class="w-24 h-24 rounded-full mx-auto" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/76690419" alt="Avneesh Agarwal" loading="lazy"> </a> <div class="pt-4 space-y-4"> <figcaption class="font-medium text-center"> <div> <a href="/author/avneesh/" class="text-xl font-bold"> Avneesh Agarwal </a> </div> <div class="text-slate-700 dark:text-slate-200 text-sm"> Fullstack web dev </div> </figcaption> <p class="leading-5 font-medium text-justify">A fullstack web developer, designer, content creator and student.</p> </div> </figure> <div class="adverts-container"> <figure class="advert elevated"> <div align="center"> <ins class="adsbygoogle" data-ad-client="ca-pub-8114751086331659" data-ad-slot="8698895132" style="display:inline-block; min-width:150px; max-width:310px; width:100%; height:600px"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </figure> <figure class="sponsor elevated lg:sticky lg:top-24"> <img src="https://dash.beyondwords.io/logo-dark.svg" class="logo hidden dark:block" loading="lazy"> <img src="https://dash.beyondwords.io/logo.svg" class="logo dark:hidden" loading="lazy"> <h4 class="mt-4"> BeyondWords <span class="text-xs text-white px-3 py-1 align-middle rounded-xl bg-primary">Sponsored</span> </h4> <p>BeyondWords is an AI voice and audio publishing platform that brings frictionless audio to writers, newsrooms, and businesses!</p> <div class="flex justify-center"> <a class="px-3 py-1 mt-4 linkbtn underline-none" href="https://beyondwords.io?utm_source=genicsblog.com&amp;utm_medium=cpc&amp;utm_campaign=advertisement" rel="nofollow" target="_blank"> Check it out &gt; </a> </div> </figure> </div> </aside> </section> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <div class="cta elevated"> <div class="p-8 md:p-10 grid grid-flow-row sm:grid-flow-col gap-x-8 items-center justify-between"> <section class="md:mr-4"> <h3>Contribute to the Genics Blog!</h3> <p> Genics Blog is a purely <a href="https://github.com/genicsblog" rel="nofollow noreferrer noopener" target="_blank" class="cta-link">open source</a> publication. Authors at Genics post highly resourceful content on varied topics relevant to the developer community. Join us and start publishing today! </p> </section> <a class="px-4 py-1.5 mt-8 md:mt-0 md:ml-4 linkbtn underline-none font-bold text-lg" href="/contribute"> Contribute </a> </div> </div> <h1 class="mt-12 mx-6 lg:mx-10 xl:mx-14">Comments</h1> <section class="lg:flex lg:justify-center"> <div id="comments" class="content-area"></div> <aside class="sidebar-area"> <div class="p-6 space-y-4 lg:sticky lg:top-24 elevated"> <p class="leading-5 font-medium text-justify"> Please adhere to our <a href="/code-of-conduct">Code of Conduct</a> while adding a comment. Respect other's opinion. </p> </div> </aside> </section> <div class="m-8 md:m-10 lg:m-14"> <div class="flex justify-center"> <h2>Related content</h2> </div> <div class="flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-4 md:gap-4 lg:gap-6 text-center"> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-web dark:hover:!border-web underline-none" href="/gouravkhunger/9-hand-picked-free-heroku-alternative-hosting-platforms"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://github-production-user-asset-6210df.s3.amazonaws.com/46792249/248472961-50430fff-be12-42ad-b556-77827be62fc0.jpg" alt="9 Hand Picked FREE Heroku Alternative Hosting Platforms [2023]" title="9 Hand Picked FREE Heroku Alternative Hosting Platforms [2023]" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">9 Hand Picked FREE Heroku Alternative Hosting Platforms [2023]</h2> <p class="line-clamp-3">Heroku has shut down their free tier and the free dynos began being deleted starting November 28, 2022. Here are top 9 alternatives to Heroku free plan to deploy your APIs and Websites seamlessly, without any restrictions!</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/46792249" alt="Gourav Khunger's Profile Picture" title="Gourav Khunger's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Gourav</span> </div> <span>Jun 24, 2023</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-web3 dark:hover:!border-web3 underline-none" href="/kira/how-to-build-a-faucet-cli-using-node-js"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://imgur.com/0qQxUt3.png" alt="How to build a faucet CLI using NodeJS 🚀" title="How to build a faucet CLI using NodeJS 🚀" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">How to build a faucet CLI using NodeJS 🚀</h2> <p class="line-clamp-3">The complete guide to building a faucet CLI using NodeJS.</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/90365542?v=4" alt="Kira's Profile Picture" title="Kira's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Kira</span> </div> <span>Apr 24, 2022</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-web dark:hover:!border-web underline-none" href="/usman/how-to-use-mongoose-with-next-js-for-mongodb"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1650187197534/EONUGmGt8.png" alt="How to use Mongoose with Next.js for MongoDB?" title="How to use Mongoose with Next.js for MongoDB?" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">How to use Mongoose with Next.js for MongoDB?</h2> <p class="line-clamp-3">Learn using Mongoose for MongoDB by building a hands-on project!</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://i.ibb.co/Fs6Kww8/PFP.jpg" alt="Usman Sabuwala's Profile Picture" title="Usman Sabuwala's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Usman</span> </div> <span>Apr 17, 2022</span> </div> </div> </a> </div> </div> </main> <footer class="px-12 py-8 text-center"> <div class="flex justify-center"> <a aria-label="Genics Blog's Discord server" class="mr-2 underline-none hover:scale-125 transition" href="https://discord.genicsblog.com" target="_blank"> <img alt="Discord's logo" src="/assets/images/social/discord.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's GitHub organization" class="mx-4 underline-none hover:scale-125 transition" href="https://github.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="GitHub's logo" src="/assets/images/social/github.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's Twitter page" class="ml-2 underline-none hover:scale-125 transition" href="https://twitter.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="Twitter's logo" src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> </div> <br> © 2021 <a href="/">Genics Blog</a> <br> Built with <a href="https://jekyllrb.com" target="_blank" rel="nofollow noopener noreferrer">Jekyll</a>. Hosted on <a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">GitHub</a>. <br><br> Developed by <a href="https://github.com/gouravkhunger" rel="nofollow noopener noreferrer" target="_blank"> Gourav Khunger</a>. Thanks to the <a href="https://github.com/genicsblog/genicsblog.com/graphs/contributors" rel="nofollow noopener noreferrer" target="_blank"> contributors</a>! <br><br> <a class="nav-item text-white" href="/terms">T&amp;C</a> <a class="nav-item text-white" href="/privacy-policy">Privacy Policy</a> <a class="nav-item text-white" href="/licensing">Licensing</a> </footer> <div class="hidden fixed top-0 w-full h-full p-6 md:p-14 backdrop-blur-md cursor-pointer z-20" id="search-container"> <div class="p-4 bg-white dark:bg-slate-800 mx-auto w-full max-h-full sm:w-3/4 lg:w-1/2 content-center rounded-lg shadow-md shadow-slate-200 dark:shadow-none cursor-auto overflow-auto" id="search-box"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-slate-400" fill="none" viewbox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <input type="text" class="w-full h-full pl-4 text-2xl outline-none dark:bg-slate-800" id="search-input" placeholder="Search..."> <span class="hidden lg:block text-sm text-gray-600 text-right tracking-tight ml-2"> <kbd class="bg-gray-200 dark:bg-slate-600 dark:text-gray-200 rounded-md shadow-sm py-1 px-2">Esc</kbd> </span> </div> <div id="results-container"></div> </div> </div> <script src="/assets/js/theme.js" data-no-instant></script> <script src="/assets/js/search.js" data-no-instant></script> <script src="/assets/js/prism.js" data-no-instant></script> <script src="/assets/js/instantclick.min.js" data-no-instant></script> <script data-no-instant>InstantClick.on("change",()=>{setTheme(),Prism.highlightAll(),initCodeBlocks(),window.onscroll=(()=>{setStickyness()}),document.getElementById("search-container").addEventListener("click",t=>{"search-container"===t.target.id&&hideSearch()});const t=window.location.pathname+window.location.search+window.location.hash;gtag("set","page_path",t);const e=document.getElementById("audio-player");if(e)new BeyondWords.Player({projectId:11987,target:e,playerStyle:"large",widgetStyle:"small",skipButtonStyle:"seconds",highlightColor:isDark()?DARK_HIGHLIGHT:LIGHT_HIGHLIGHT,contentId:e.dataset.audioId});const n=document.getElementById("comments");if(n){const t={src:"https://giscus.app/client.js","data-repo":"genicsblog/comments","data-repo-id":"R_kgDOG0-Vlw","data-category":"Announcements","data-category-id":"DIC_kwDOG0-Vl84CP8Dz","data-mapping":"pathname","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":`${isDark()?GISCUS_DARK:GISCUS_LIGHT}`,"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");for(key in t)e.setAttribute(key,t[key]);n.appendChild(e)}}),InstantClick.on("receive",()=>{BeyondWords.Player.destroyAll(),"function"==typeof window.cleanup&&(window.cleanup(),window.cleanup())}),InstantClick.init("mousedown");</script> </body> </html>