<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="A guide on settting up Umami on Railway and adding it to a Next.js project."> <meta name="twitter:description" content="A guide on settting up Umami on Railway and adding it to a Next.js project."> <meta property="og:description" content="A guide on settting up Umami on Railway and adding it to a Next.js project."> <meta property="og:title" content="Privacy friendly website analytics with Umami and Next.js"> <meta property="og:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1645091755632/-NyymMbeL.png"> <meta property="og:image:alt" content="Privacy friendly website analytics with Umami and Next.js"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@genicsblog"> <meta name="twitter:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1645091755632/-NyymMbeL.png"> <meta name="twitter:creator" content="@AnishDe12020"> <meta property="og:type" content="article"> <meta property="article:section" content="web"> <meta property="article:tag" content="next-js, tools, free-stuff"> <meta property="article:author" content="https://genicsblog.com/author/anishde12020/"> <meta property="article:published_time" content="2022-02-20T00:00:00+0000"> <meta property="og:url" content="https://genicsblog.com/anishde12020/privacy-friendly-website-analytics-with-umami-and-next-js"> <meta name="theme-color" content="#16161f"> <meta name="msapplication-TileColor" content="#16161f"> <meta name="msapplication-navbutton-color" content="#16161f"> <meta name="apple-mobile-web-app-status-bar-style" content="#16161f"> <link rel="canonical" href="https://blog.anishde.dev/privacy-friendly-website-analytics-with-umami-and-nextjs"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Sen&amp;display=swap" rel="stylesheet"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"> <link rel="stylesheet" href="/assets/css/theme.css"> <link rel="stylesheet" href="/assets/css/prism.css"> <link rel="manifest" href="/manifest.json"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-KQJM9Z9N1Z"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KQJM9Z9N1Z");</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8114751086331659" crossorigin="anonymous"></script> <script src="https://proxy.beyondwords.io/npm/@beyondwords/player@latest/dist/umd.js"></script> <title>Privacy friendly website analytics with Umami and Next.js</title> </head> <body> <nav> <p class="bg-primary p-3 text-center text-white font-medium flex flex-col sm:block"> <span class="md:hidden px-1">Connect with us on discord to stay updated.</span> <span class="hidden md:inline px-1">Connect with us on discord to stay updated on the blog's development.</span> <a href="https://discord.genicsblog.com" target="_blank" class="font-bold underline header-anchor hover:text-slate-300" rel="nofollow noopener noreferrer"> Join &gt; </a> </p> <header class="w-full top-0 z-10" id="navbar"> <div class="bg-background max-h-20 py-1 px-3 sm:px-8 lg:px-8 mx-auto"> <div class="flex justify-between h-16"> <div class="flex lg:px-0"> <a class="group flex-shrink-0 flex items-center logo-anchor" href="/" aria-label="Home Page Link"> <div class="flex items-center space-x-2 whitespace-nowrap flex-nowrap"> <div class="h-8 w-8 md:mx-2"> <svg class="h-8 w-8 fill-white group-hover:fill-slate-300" viewbox="0 0 79.784508 91.197495" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2"></defs> <g id="layer1" transform="translate(-68.235445,-52.679805)"> <path id="path962" style=" stroke: none; stroke-width: 0.999999px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 408.73047,210.44336 -139.49414,80.59961 0.87109,162.49414 52.71289,-32.94922 85.34766,48.85938 87.42773,-48.85743 -0.63476,-53.22851 -84.8711,-0.88477 v 27.79297 h 56.02735 v 9.45508 l -58.31446,33.66797 -56.13085,-32.4082 0.63476,-66.94922 55.81836,-32.22461 57.25195,32.76172 82.41016,-47.75782 z m 0.43945,32.62695 83.28125,48.08203 -26.93555,15.55274 -57.21484,-33.0332 -84.18359,48.60351 v 66.39453 l -25.48047,14.71094 0.084,-96.54102 z" transform="scale(0.26458333)"></path> <path style=" stroke: none; stroke-width: 0.264583px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1; " d="m 81.889144,125.74786 26.204966,15.12944 36.92584,-21.31914 V 88.998204 l -7.22758,4.172845 V 115.03627 L 108.1902,132.12709 89.310794,121.22706 Z" id="path1416"></path> </g> </svg> </div> <span class="font-bold hidden sm:block text-xl tracking-tight text-white group-hover:text-slate-300"> Genics Blog</span> </div> </a> </div> <div class="flex items-center h-16"> <div class="hidden lg:block"> <a class="nav-item text-white" href="/topics">Topics</a> <a class="nav-item text-white" href="/about">About Us</a> <a class="nav-item text-white" href="/contact">Contact</a> <a class="nav-item text-white" target="_blank" href="https://docs.genicsblog.com">Docs</a> </div> <button onclick="showSearch()" aria-label="Search across the site..."> <svg xmlns="http://www.w3.org/2000/svg" class="ml-4 h-6 w-6 stroke-white hover:stroke-slate-300" fill="none" viewbox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </button> <button type="button" class="ml-2" onclick="saveTheme(isDark() ? LIGHT : DARK)" title="Ctrl + Shift + L"> <svg viewbox="0 0 512 512" class="h-8 w-8 fill-white hover:fill-slate-300 transition-all" id="theme-toggle-icon"> <g> <path d="M262.524,164.624c-49.466,0-89.592,40.119-89.592,89.596c0,49.487,40.126,89.606,89.592,89.606 c49.487,0,89.613-40.119,89.613-89.606C352.138,204.743,312.012,164.624,262.524,164.624z M262.524,320.136 c-36.39,0-65.902-29.513-65.902-65.916c0-36.396,29.513-65.903,65.902-65.903c36.41,0,65.924,29.506,65.924,65.903 C328.448,290.623,298.935,320.136,262.524,320.136z"></path> <path d="M264.078,149.221c0,0-39.031-73.758,0-73.758C303.103,75.462,264.078,149.221,264.078,149.221z"></path> <path d="M261.922,363.328c0,0,39.053,73.737,0,73.737C222.905,437.045,261.922,363.328,261.922,363.328z"></path> <path d="M186.536,331.194c0,0-24.539,79.766-52.142,52.148C106.817,355.746,186.536,331.194,186.536,331.194z"></path> <path d="M155.941,255.181c0,0-73.745,39.048-73.745,0C82.224,216.177,155.941,255.181,155.941,255.181z"></path> <path d="M188.068,179.794c0,0-79.746-24.524-52.142-52.142C163.503,100.086,188.068,179.794,188.068,179.794z"></path> <path d="M428.852,254.552c0,49.668-40.276,89.931-89.935,89.931c-49.657,0-89.928-40.263-89.928-89.931 c0-49.672,40.271-89.928,89.928-89.928C388.575,164.624,428.852,204.88,428.852,254.552z"></path> </g> </svg> </button> <a class="ml-2 md:ml-4 px-2.5 py-1.5 font-bold rounded-md text-black bg-white hover:bg-slate-300 hover:scale-110 transition underline-none" href="/contribute">Contribute</a> <div class="ml-4 lg:hidden cursor-pointer"> <div id="menu-btn" class="h-8 w-8 relative" onclick="toggleNav()"> <div class="menu-btn-lines"></div> </div> </div> </div> </div> </div> <div class="top-0 bg-background hidden p-6 lg:hidden" id="mobile-nav"> <div class="grid grid-cols-2 gap-y-2 gap-x-4"> <a class="group mobile-nav-item " href="/topics"> <span class="group-hover:text-white">Topics</span> </a> <a class="group mobile-nav-item " href="/about"> <span class="group-hover:text-white">About Us</span> </a> <a class="group mobile-nav-item " href="/contact"> <span class="group-hover:text-white">Contact</span> </a> <a class="group mobile-nav-item" href="https://docs.genicsblog.com" target="_blank"> <span class="group-hover:text-white">Documentation</span> </a> </div> </div> </header> </nav> <header class="banner"> <div class="flex flex-col lg:flex-row p-2"> <div class="flex justify-center items-center lg:w-1/2 md:mb-0"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645091755632/-NyymMbeL.png" class="w-full md:w-3/4 lg:w-full rounded-xl shadow-xl aspect-video m-8" loading="lazy"> </div> <div class="flex flex-col justify-center lg:items-start w-full lg:w-1/2 lg:ml-12"> <h1 class="text-4xl font-black tracking-tight">Privacy friendly website analytics with Umami and Next.js</h1> <span class="mt-0.5 text-justify">A guide on settting up Umami on Railway and adding it to a Next.js project.</span> <div class="flex items-center mt-8"> <img class="rounded-full w-14 h-14" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/63192115?v=4" loading="lazy"> <div class="ml-4 leading-3"> <a class="font-extrabold text-xl" href="/author/anishde12020/"> Anish De </a> <br> <span class="text-sm"> Posted on February 20, 2022 </span> </div> </div> <div class="mt-8"> <span>Category: </span> <a class="text-sm ml-2 archive-name !bg-web underline-none" href="/category/web">#web</a> </div> <div class="mt-4 sm:mt-3"> <span>Tags: </span> <a class="text-sm ml-2 my-0.5 archive-name !bg-next-js underline-none" href="/tag/next-js">#next-js</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-tools underline-none" href="/tag/tools">#tools</a> <a class="text-sm ml-2 my-0.5 archive-name !bg-free-stuff underline-none" href="/tag/free-stuff">#free-stuff</a> </div> </div> </div> </header> <main> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <section class="lg:flex"> <div class="md:text-lg m-6 md:m-10 lg:m-14 lg:w-full lg:max-w-[65%] xl:max-w-[70%]"> <div class="elevated"> <div class="notice w-full px-4 py-2 rounded-tl-2xl rounded-tr-2xl bg-slate-200 dark:bg-slate-800 space-y-4"> <span class="text-base italic leading-8"> Originally published at <a href="https://blog.anishde.dev/privacy-friendly-website-analytics-with-umami-and-nextjs" target="_blank" rel="nofollow noopener noreferrer">blog.anishde.dev</a>. </span> </div> <article class="p-6 md:p-8"> <div class="mb-6" id="audio-player" data-audio-id="3573705"></div> <p>Website analytics is truly a very important thing. We can understand our audience well and can tailor our content to our audience for higher engagement.</p> <p><a href="https://analytics.google.com/" rel="nofollow noopener noreferrer" target="_blank">Google Analytics</a> had always been the go-to solution as it is popular, easy to set up, and gives a lot of data.</p> <p>However, Google Analytics has got its own set of issues. One must ask for a cookie consent to use Google Analytics as Google Analytics uses cookies. The Google Analytics script is also quite big and is known to slow down websites.</p> <p>There have been recent allegations against Google Analytics for not being privacy-friendly and many European authorities have also <a href="https://techcrunch.com/2022/02/10/cnil-google-analytics-gdpr-breach/" rel="nofollow noopener noreferrer" target="_blank">found it breaching GDPR</a>.</p> <p>So, what is the solution?</p> <p>Over the years, many privacy-friendly analytics solutions have emerged including <a href="https://usefathom.com/" rel="nofollow noopener noreferrer" target="_blank">Fathom Analytics</a>, <a href="https://plausible.io/" rel="nofollow noopener noreferrer" target="_blank">Plausible Analytics</a>, and <a href="https://umami.is/" rel="nofollow noopener noreferrer" target="_blank">Umami Analytics</a>.</p> <p>The last 2 are open-source and all 3 of them are cookie-less and have a lightweight script that should not affect website load times.</p> <p>We are going to be focusing on Umami in this article.</p> <h2 id="a-little-bit-about-umami">A little bit about Umami</h2> <p>Umami is an open-source self-hosted analytics service. This means the source code can be accessed by anyone and one must host it themselves.</p> <p>Now, you might say that this costs money and it is not free but today we are going to look at how we can host it for free. Also, Umami uses NextJS API routes for the backend and hence it can run on any serverless architecture.</p> <p>We are going to be looking at setting it up on <a href="https://railway.app/" rel="nofollow noopener noreferrer" target="_blank">Railway</a> today, however, it can also be hosted on <a href="https://vercel.com/dashboard" rel="nofollow noopener noreferrer" target="_blank">Vercel</a> or <a href="https://www.netlify.com/" rel="nofollow noopener noreferrer" target="_blank">Netlify</a>. We are also going to look at adding analytics to a Next.js application.</p> <p>You can see a <a href="https://app.umami.is/share/8rmHaheU/umami.is" rel="nofollow noopener noreferrer" target="_blank">live demo of the platform here</a></p> <p>Fun fact: <a href="https://hashnode.com/" rel="nofollow noopener noreferrer" target="_blank">Hashnode</a> also uses Umami and is rolling out an Umami dashboard as advanced analytics üòé</p> <p>You can see the <a href="https://stats.hashnode.com/share/VDldVSkU/9f4dd26c-c7e6-4fa1-88aa-87d90a0dba43" rel="nofollow noopener noreferrer" target="_blank">public analytics for my blog here</a></p> <h2 id="hosting-umami-for-free-on-railway">Hosting Umami for free on Railway</h2> <p><a href="https://railway.app/" rel="nofollow noopener noreferrer" target="_blank">Railway</a> is an awesome hosting platform that lets you host applications quickly and easily. The free plan allows usage of up to $5/month which should be good enough for a few small to medium-sized websites.</p> <p>In fact, I have been using it for the past 3-4 months and it has been an amazing experience. My usage costs are usually lower than $2/month and hence I have never paid anything. You don‚Äôt even need to link your credit card!</p> <p>My usage this month (3 websites) -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645083158123/UEZNXrJL_.png" alt="image.png" loading="lazy"></p> <p>You can also link a credit card to get $10 of usage per month for free (you will be charged for anything above that).</p> <p>You can sign up <a href="https://railway.app?referralCode=AnishDe12020" rel="nofollow noopener noreferrer" target="_blank">here</a></p> <h3 id="setting-up-the-project-on-railway">Setting up the project on Railway</h3> <p>We are going to follow the <a href="https://umami.is/docs/running-on-railway" rel="nofollow noopener noreferrer" target="_blank">official guide on hosting it on Railway</a></p> <p>First of all, we must fork the repository. This will help us make changes to the source code to fit our own needs and more importantly, receive updates in the future (as we will see later in the tutorial). Head over to the <a href="https://github.com/mikecao/umami" rel="nofollow noopener noreferrer" target="_blank">Umami GitHub repository</a> and click on fork on the top-right corner -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645084023444/UIfe4bLPm.png" alt="image.png" loading="lazy"></p> <p>You may be asked to select your personal account or an organization if you are in any. I would recommend going for personal account unless it is for an organization.</p> <p>Once you have signed up for an account, click on ‚ÄúNew Project‚Äù (note that I already have an existing project and hence the layout looks like this. It may be different for you) -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645083729581/NrhvEnIUM.png" alt="image.png" loading="lazy"></p> <p>Now, select ‚ÄúDeploy from Repo‚Äù on the new project screen -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645084230742/IsU6U7Fb2.png" alt="image.png" loading="lazy"></p> <p>Do note that if you didn‚Äôt sign up with GitHub, you will be prompted to connect your GitHub account.</p> <p>Search and select Umami there.</p> <p>Make sure that the master branch has been selected. Now click on deploy -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645085133125/PEO4Np0hp.png" alt="image.png" loading="lazy"></p> <p>This might take some time (2-5 minutes).</p> <p>This is how it should look like after deploying (do note that I am currently using the Metro UI and the layout might look a little different) -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645085314989/SGu2FefSM.png" alt="image.png" loading="lazy"></p> <p>Now, we need to add a database. We are going to be using PostgreSQL for this example. Now, Railway has built-in support for databases and hence we can spin up a PostgreSQL instance within Railway itself for free.</p> <p>Click on this ‚ÄúNew‚Äù button -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645085285069/quu1-MwRS.png" alt="image.png" loading="lazy"></p> <p>Select ‚ÄúDatabases‚Äù and then select ‚ÄúPostgreSQL‚Äù -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645085252955/_pxkdwdGj.png" alt="image.png" loading="lazy"></p> <p>This might take some time as well.</p> <p>Do note that if you are using the old UI, you have to select the ‚ÄúAdd Plugin‚Äù button.</p> <p>Now, we need to add two environment variables, <code class="language-plaintext highlighter-rouge">PORT</code> and <code class="language-plaintext highlighter-rouge">HASH_SALT</code>. Click on the card that says ‚Äúumami‚Äù and go to the ‚ÄúVariables‚Äù tab -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645085586275/6b3hX2IJX.png" alt="image.png" loading="lazy"></p> <p>In the old UI, there will be a button called ‚ÄúVariables‚Äù in the sidebar. Click that and then add the following variables under ‚Äúcustom‚Äù.</p> <p>We need to put a random string for the <code class="language-plaintext highlighter-rouge">HASH_SALT</code> environment variable. Use any random string generator like <a href="https://devkit.one/generators/random-string" rel="nofollow noopener noreferrer" target="_blank">this one</a>. Let us go with 20 characters including uppercase and lowercase letters, numbers, and symbols -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645086073622/Oaa9dkb2U.png" alt="image.png" loading="lazy"></p> <p>Now paste that into Railway and click ‚ÄúAdd‚Äù -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645086092990/Z5TMAndNtH.png" alt="image.png" loading="lazy"></p> <p>Also, add an environment variable called <code class="language-plaintext highlighter-rouge">PORT</code> and set it to <code class="language-plaintext highlighter-rouge">3000</code> -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645086013249/TBX1KtxPZ.png" alt="image.png" loading="lazy"></p> <p>Note that Railway will redeploy our application every time we add an environment variable.</p> <h3 id="setting-up-our-database-schema">Setting up our database schema</h3> <p>Now, we need to make tables in our database. For this, we need to locally clone the project. Go ahead and clone it with git and open a terminal in that repository (I am using the GitHub CLI to clone here but you can use <code class="language-plaintext highlighter-rouge">git</code> as well) -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645086274311/ESnkCPq02.png" alt="image.png" loading="lazy"></p> <p>Now, we need to <a href="https://docs.railway.app/develop/cli" rel="nofollow noopener noreferrer" target="_blank">install the Railway CLI</a>. You can install it with NPM with the following command -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i <span class="nt">-g</span> @railway/cli
</code></pre></div></div> <p>You can also install it with <a href="https://brew.sh/" rel="nofollow noopener noreferrer" target="_blank">Homebrew</a> with the following command -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>railwayapp/railway/railway
</code></pre></div></div> <p>Now run the following command to authenticate the CLI with your Railway account -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>railway login
</code></pre></div></div> <p>Note that if you face any issues while doing this, you can also try logging in with the following command -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>railway login <span class="nt">--browserless</span>
</code></pre></div></div> <p>Now run the following command to link the local directory with your Railway project -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>railway <span class="nb">link</span>
</code></pre></div></div> <p>Now head over to Railway and click the PostgreSQL card and go to the ‚ÄúVariables‚Äù tab -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645086844780/5Z7sCtfB6.png" alt="image.png" loading="lazy"></p> <p>Now run the following command in the terminal -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>railway run psql <span class="nt">-h</span> PGHOST <span class="nt">-U</span> PGUSER <span class="nt">-d</span> PGDATABASE <span class="nt">-f</span> sql/schema.postgresql.sql
</code></pre></div></div> <p>Replace the values caps with their corresponding values from the Railway dashboard (from the environment variables tab for PostgreSQL from the previous step)</p> <p>Now press enter to run the command.</p> <p>Do note that you need the PostgreSQL CLI for this. If you don‚Äôt have it, you can follow <a href="https://www.timescale.com/blog/how-to-install-psql-on-mac-ubuntu-debian-windows/" rel="nofollow noopener noreferrer" target="_blank">this guide to install it</a>.</p> <p>Now run the following command to deploy it -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>railway up
</code></pre></div></div> <p>Hooray, we have successfully deployed Umami ü•≥</p> <h2 id="using-umami">Using Umami</h2> <p>After deploying, you will get an URL to deployment logged on to your CLI. You can also retrieve this URL from the Railway web app.</p> <p>You can also set up a custom subdomain (or even a custom domain) from the Umami dashboard -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645087633934/7mcDLz429.png" alt="image.png" loading="lazy"></p> <p>You will see a login screen now. The username is ‚Äúadmin‚Äù and the default password is ‚Äúumami‚Äù (we will change this).</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645087925651/mO7f7rbEO.png" alt="image.png" loading="lazy"></p> <p>Our dashboard should look like this now -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645087905782/XJLyLBPL1.png" alt="image.png" loading="lazy"></p> <p>Now, there is a banner saying there is a new version out! While writing this tutorial, <a href="https://github.com/mikecao" rel="nofollow noopener noreferrer" target="_blank">Mikecao</a>, the creator of Umami, pushed a new version üòÖ</p> <p>Now, that is a good thing because now I get to show you how to update Umami üòé</p> <p>Before that, let us just quickly change our password as ‚Äúumami‚Äù isn‚Äôt a secure password.</p> <p>Head over to Settings ‚Äì&gt; Profile and click on ‚ÄúChange Password‚Äù</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645088278499/VheBGhUUXY.png" alt="image.png" loading="lazy"></p> <p>Enter ‚Äúumami‚Äù in the ‚ÄúCurrent Password‚Äù field and then set a new secure password and click ‚ÄúSave‚Äù -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645088387324/VmfJRvZft.png" alt="image.png" loading="lazy"></p> <h3 id="updating-umami">Updating Umami</h3> <p>Head over to the forked Umami repository on GitHub. You should see that our branch is behind by a few commits -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645088470198/r7hgqcKVi.png" alt="image.png" loading="lazy"></p> <p>Click on ‚ÄúFetch Upstream‚Äù and then ‚ÄúFetch and merge‚Äù -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645088510722/8sBS4wExL.png" alt="image.png" loading="lazy"></p> <p>That is it! A new deployment will be initiated on Railway and in a few minutes, you should be up and running the latest version -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645088575876/UhIEb2SZl.png" alt="image.png" loading="lazy"></p> <h2 id="adding-umami-to-a-nextjs-website">Adding Umami to a NextJS website</h2> <p>Now, let us look at adding Umami to a NextJS website. For this let us first create a new NextJS application (note that it will work with existing NextJS applications as well) -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx create-next-app umami-tutorial
</code></pre></div></div> <p>Let us now move into that directory -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>umami-tutorial
</code></pre></div></div> <p>Now, open it in your favorite text editor. We will be using VSCode for this tutorial -</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>code <span class="nb">.</span>
</code></pre></div></div> <p>Now, open the <code class="language-plaintext highlighter-rouge">pages/_app.js</code> file. It should look like this -</p> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">../styles/globals.css</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nf">MyApp</span><span class="p">({</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">pageProps</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nc">Component</span> <span class="si">{</span><span class="p">...</span><span class="nx">pageProps</span><span class="si">}</span> <span class="p">/&gt;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">MyApp</span>
</code></pre></div></div> <p>Now, let us add the script tag for Umami. This is how our <code class="language-plaintext highlighter-rouge">_app.js</code> should look like now -</p> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Script</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/script</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">../styles/globals.css</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">MyApp</span><span class="p">({</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">pageProps</span> <span class="p">})</span> <span class="p">{</span>
  <span class="nf">return </span><span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="si">{</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NEXT_PUBLIC_UMAMI_SCRIPT_URL</span> <span class="o">&amp;&amp;</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NEXT_PUBLIC_UMAMI_WEBSITE_ID</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
          <span class="p">&lt;</span><span class="nc">Script</span>
            <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NEXT_PUBLIC_UMAMI_SCRIPT_URL</span><span class="si">}</span>
            <span class="na">data-website-id</span><span class="p">=</span><span class="si">{</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NEXT_PUBLIC_UMAMI_WEBSITE_ID</span><span class="si">}</span>
            <span class="na">strategy</span><span class="p">=</span><span class="s">"lazyOnload"</span>
          <span class="p">/&gt;</span>
        <span class="p">)</span><span class="si">}</span>
      <span class="p">&lt;</span><span class="nc">Component</span> <span class="si">{</span><span class="p">...</span><span class="nx">pageProps</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">MyApp</span><span class="p">;</span>
</code></pre></div></div> <p>Here, we are using the <a href="https://nextjs.org/docs/api-reference/next/script" rel="nofollow noopener noreferrer" target="_blank">NextJS Script component</a> and lazy loading the script so that it doesn‚Äôt block our website from loading.</p> <p>We will also need to add the environment variables but before that, we need to add the website to Umami.</p> <p>Head over to Umami and then to Settings ‚Äì&gt; Websites -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645090114917/h3EVdgmDM.png" alt="image.png" loading="lazy"></p> <p>Now, click on ‚ÄúAdd website‚Äù</p> <p>I am naming this ‚ÄúUmami Tutorial‚Äù but you can name it whatever you want to. In the next field, make sure to enter the domain and NOT THE URL to the website.</p> <p>Note that I have quickly created a GitHub repository and deployed this NextJS app to <a href="https://vercel.com/" rel="nofollow noopener noreferrer" target="_blank">Vercel</a>. I have also checked ‚ÄúEnable Share URL‚Äù so that I can share the analytics for this website with you guys üòÅ</p> <p><a href="https://umami-tutorial.up.railway.app/share/3lOPyajp/Umami%20Tutorial" rel="nofollow noopener noreferrer" target="_blank">Here</a> it is.</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645090318295/8b01p6l-xH.png" alt="image.png" loading="lazy"></p> <p>Now, click on ‚ÄúSave‚Äù and then ‚ÄúGet tracking code‚Äù -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645090384630/csMsmGMW7.png" alt="image.png" loading="lazy"></p> <p>From the modal that appears, just copy the values of <code class="language-plaintext highlighter-rouge">data-website-id</code> and <code class="language-plaintext highlighter-rouge">src</code> -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645090430194/_Ep6VvsVs.png" alt="image.png" loading="lazy"></p> <p>Now, create a new file in your NextJS app called <code class="language-plaintext highlighter-rouge">.env.local</code> and add the following environment variables -</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NEXT_PUBLIC_UMAMI_SCRIPT_URL= # Your script URL, the value under `src`
NEXT_PUBLIC_UMAMI_WEBSITE_ID= # The website's id, the value under `data-website-id`
</code></pre></div></div> <p>Now, visit the website on your browser and take a look at the Umami dashboard, it should record a view and a visit under the ‚ÄúRealtime‚Äù tab -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645090808765/DClWJJP28.png" alt="image.png" loading="lazy"></p> <p>We can see more detailed analytics under the details page of the website -</p> <p><img src="https://ik.imagekit.io/genicsblog/tr:f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1645090870636/yVqIm4_VA.png" alt="image.png" loading="lazy"></p> <p>More data will pile up as you start getting visitors on your site</p> <p>Note: Some browsers like brave have in-built ad-blockers which blocks such scripts from loading in many cases. Even third-party ad-blockers can be responsible for this.</p> <p>If no data is showing up in your Umami dashboard, try a browser without ad-blockers (or private mode), try restarting your development server, and make sure that the values of the environment variables are right.</p> <p>Woohoo, that was a lot!</p> <h2 id="conclusion">Conclusion</h2> <p>We got Umami set up and running and added analytics to a NextJS application. Umami does a lot more like recording events. Take a look at <a href="https://umami.is/docs" rel="nofollow noopener noreferrer" target="_blank">their documentation</a> for more information.</p> <p>I hope everything worked out for you. Do feel free to comment on this article or reach out to me on <a href="https://twitter.com/AnishDe12020" rel="nofollow noopener noreferrer" target="_blank">Twitter</a> and I will help you out üòÑ</p> <h2 id="important-links">Important Links</h2> <ul> <li><a href="https://umami.is/" rel="nofollow noopener noreferrer" target="_blank">Umami</a></li> <li><a href="https://railway.app/" rel="nofollow noopener noreferrer" target="_blank">Railway</a></li> <li> <a href="https://github.com/AnishDe12020/umami-tutorial" rel="nofollow noopener noreferrer" target="_blank">Repository</a> for this tutorial</li> </ul> </article> <hr> <div class="px-6 pb-6 md:px-8 md:pb-8 flex flex-col items-center rounded-bl-2xl rounded-br-2xl"> <p class="text-center mb-4"> Join discussions at <a href="https://discord.genicsblog.com" target="_blank" class="cta-link"> our discord server &gt; </a> <br> Did you learn something new? Add a comment below and spread the word! </p> <div class="grid grid-flow-col gap-6"> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://facebook.com/sharer.php?u=https://genicsblog.com/anishde12020/privacy-friendly-website-analytics-with-umami-and-next-js" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/facebook.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://api.whatsapp.com/send?text=Checkout%20this%20amazing%20article%20at%20Genics%20Blog%20'Privacy%20friendly%20website%20analytics%20with%20Umami%20and%20Next.js':%20https://genicsblog.com/anishde12020/privacy-friendly-website-analytics-with-umami-and-next-js" onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/whatsapp.svg" class="social-image w-10 h-10" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://genicsblog.com/anishde12020/privacy-friendly-website-analytics-with-umami-and-next-js" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/linkedin.svg" class="social-image w-7 h-7" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://twitter.com/intent/tweet?text=Check%20out%20this%20amazing%20article%20by%20@AnishDe12020%20at%20@genicsblog:%20Privacy%20friendly%20website%20analytics%20with%20Umami%20and%20Next.js&amp;url=https://genicsblog.com/anishde12020/privacy-friendly-website-analytics-with-umami-and-next-js" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a class="underline-none hover:scale-125 transition flex items-center" rel="nofollow noopener noreferrer" href="https://www.snapchat.com/scan?attachmentUrl=https://genicsblog.com/anishde12020/privacy-friendly-website-analytics-with-umami-and-next-js" onclick="window.open(this.href, 'snapchat-share', 'width=550,height=435');return false;" target="_blank"> <img src="/assets/images/social/snapchat.svg" class="social-image w-14 h-14 -m-2" loading="lazy"> </a> </div> </div> </div> </div> <aside class="m-6 md:m-10 lg:my-14 lg:mr-10 lg:-ml-4 md:mr-8 lg:max-w-[25%] xl:max-w-[20%]"> <figure class="p-6 md:p-8 elevated"> <img class="w-24 h-24 rounded-full mx-auto" src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/63192115?v=4" alt="Anish De" loading="lazy"> <div class="pt-4 space-y-4"> <figcaption class="font-medium text-center"> <div> <a href="/author/anishde12020/" class="text-xl font-bold"> Anish De </a> </div> <div class="text-slate-700 dark:text-slate-200 text-sm"> Web Developer ‚óè Blogger ‚óè YouTuber ‚óè Tech Enthusiast </div> </figcaption> <p class="leading-5 font-medium text-justify">14 ‚Ä¢ Tech Enthusiast ‚Ä¢ Tech YouTuber ‚Ä¢ Blogs about Development ‚Ä¢ Developer</p> </div> </figure> <figure class="bg-white dark:bg-background rounded-2xl p-6 shadow-xl shadow-slate-200 dark:shadow-none mt-8 aspect-square w-full"> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="auto" data-full-width-responsive="true" data-ad-client="ca-pub-8114751086331659" data-ad-slot="8698895132"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </figure> <figure class="px-6 pb-6 md:px-8 mt-8 elevated lg:sticky lg:top-24"> <img src="https://dash.beyondwords.io/logo-dark.svg" class="w-full aspect-video hidden dark:block" loading="lazy"> <img src="https://dash.beyondwords.io/logo.svg" class="w-full aspect-video dark:hidden" loading="lazy"> <h4> BeyondWords <span class="text-xs text-white px-3 py-1 align-middle rounded-xl bg-primary">Sponsored</span> </h4> <p>BeyondWords is an AI voice and audio publishing platform that brings frictionless audio to writers, newsrooms, and businesses!</p> <div class="flex justify-center"> <a class="px-3 py-1 mt-4 linkbtn underline-none" href="https://beyondwords.io?utm_source=genicsblog.com&amp;utm_medium=cpc&amp;utm_campaign=advertisement" rel="nofollow" target="_blank"> Check it out &gt; </a> </div> </figure> </aside> </section> <br> <div align="center"> <ins class="adsbygoogle" style="display: block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8114751086331659" data-ad-slot="3535897708"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <br> <div class="flex justify-center mx-6 md:mx-10 lg:mx-14"> <div class="p-8 md:p-12 grid grid-flow-row sm:grid-flow-col gap-x-8 items-center justify-between elevated"> <section class="md:mr-4"> <h3>Contribute to the Genics Blog!</h3> <p> Genics Blog is a purely <a href="https://github.com/genicsblog" rel="nofollow noreferrer noopener" target="_blank" class="cta-link">open source</a> publication. Authors at Genics post highly resourceful content on varied topics relevant to the developer community. Join us and start publishing today! </p> </section> <a class="px-4 py-1.5 mt-8 md:mt-0 md:ml-4 linkbtn underline-none font-bold text-lg" href="/contribute"> Contribute </a> </div> </div> <h1 class="mx-8 mt-12 md:mx-10 lg:mx-14 -mb-4 lg:-mb-8">Comments</h1> <section class="flex flex-col-reverse lg:flex-row"> <div id="comments" class="md:text-lg m-8 md:m-10 lg:m-14 lg:w-full lg:max-w-[65%] xl:max-w-[70%]"></div> <aside class="m-8 md:m-10 lg:my-14 lg:mr-10 lg:-ml-4 md:mr-8 lg:max-w-[25%] xl:max-w-[20%]"> <div class="p-6 md:p-8 space-y-4 lg:sticky lg:top-24 rounded-2xl bg-white dark:bg-background shadow-xl dark:shadow-none shadow-slate-200"> <p class="leading-5 font-medium text-justify"> Please adhere to our <a href="/code-of-conduct">Code of Conduct</a> while adding a comment. Respect other's opinion. </p> </div> </aside> </section> <div class="m-8 md:m-10 lg:m-14"> <div class="flex justify-center"> <h2>Related content</h2> </div> <div class="flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-4 md:gap-4 lg:gap-6 text-center"> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-coding dark:hover:!border-coding underline-none" href="/anishde12020/5-modern-cli-tools-that-will-help-boost-your-productivity"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1660393311485/olDcPwC6h.png" alt="5 Modern CLI tools that will help boost your productivity" title="5 Modern CLI tools that will help boost your productivity" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">5 Modern CLI tools that will help boost your productivity</h2> <p class="line-clamp-3">In this article, we will go through 5 modern CLI tools that will help you boost your productivity while coding and general use</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://avatars.githubusercontent.com/u/63192115?v=4" alt="Anish De's Profile Picture" title="Anish De's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Anish</span> </div> <span>Aug 23, 2022</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-web dark:hover:!border-web underline-none" href="/usman/how-to-use-mongoose-with-next-js-for-mongodb"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1650187197534/EONUGmGt8.png" alt="How to use Mongoose with Next.js for MongoDB?" title="How to use Mongoose with Next.js for MongoDB?" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">How to use Mongoose with Next.js for MongoDB?</h2> <p class="line-clamp-3">Learn using Mongoose for MongoDB by building a hands-on project!</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://i.ibb.co/Fs6Kww8/PFP.jpg" alt="Usman Sabuwala's Profile Picture" title="Usman Sabuwala's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Usman</span> </div> <span>Apr 17, 2022</span> </div> </div> </a> <a class="mt-4 mb-6 px-6 pt-2 pb-6 postbox hover:border-coding dark:hover:!border-coding underline-none" href="/usman/how-to-sort-imports-for-a-javascript-project-using-prettier"> <img src="https://ik.imagekit.io/genicsblog/tr:w-1920,h-1080,f-webp/https://cdn.hashnode.com/res/hashnode/image/upload/v1647939834412/-rOHcxwbV.png" alt="How to sort imports for a JavaScript Project using Prettier" title="How to sort imports for a JavaScript Project using Prettier" class="aspect-video w-full mt-4" loading="lazy"> <div class="mt-6 mb-16"> <h2 class="line-clamp-2">How to sort imports for a JavaScript Project using Prettier</h2> <p class="line-clamp-3">Make your code clean, structured and look better by sorting import statements automatically using the prettier plugin for VS Code</p> </div> <div class="absolute mt-20 right-6 bottom-6 left-6"> <div class="flex items-center justify-between mt-6"> <div class="flex items-center"> <img src="https://ik.imagekit.io/genicsblog/tr:w-128,h-128,f-webp/https://i.ibb.co/Fs6Kww8/PFP.jpg" alt="Usman Sabuwala's Profile Picture" title="Usman Sabuwala's Profile Picture" class="rounded-full w-10 h-10" width="40px" height="40px" loading="lazy"> <span class="ml-2">Usman</span> </div> <span>Mar 29, 2022</span> </div> </div> </a> </div> </div> </main> <footer class="px-12 py-8 text-center"> <div class="flex justify-center"> <a aria-label="Genics Blog's Discord server" class="mr-2 underline-none hover:scale-125 transition" href="https://discord.genicsblog.com" target="_blank"> <img alt="Discord's logo" src="/assets/images/social/discord.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's GitHub organization" class="mx-4 underline-none hover:scale-125 transition" href="https://github.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="GitHub's logo" src="/assets/images/social/github.svg" class="social-image w-8 h-8" loading="lazy"> </a> <a aria-label="Genics Blog's Twitter page" class="ml-2 underline-none hover:scale-125 transition" href="https://twitter.com/genicsblog" target="_blank" rel="nofollow noopener noreferrer"> <img alt="Twitter's logo" src="/assets/images/social/twitter.svg" class="social-image w-8 h-8" loading="lazy"> </a> </div> <br> ¬© 2021 <a href="/">Genics Blog</a> <br> Built with <a href="https://jekyllrb.com" target="_blank" rel="nofollow noopener noreferrer">Jekyll</a>. Hosted on <a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">GitHub</a>. <br><br> Developed by <a href="https://github.com/gouravkhunger" rel="nofollow noopener noreferrer" target="_blank"> Gourav Khunger</a>. Thanks to the <a href="https://github.com/genicsblog/genicsblog.com/graphs/contributors" rel="nofollow noopener noreferrer" target="_blank"> contributors</a>! <br><br> <a class="nav-item text-white" href="/terms">T&amp;C</a> <a class="nav-item text-white" href="/privacy-policy">Privacy Policy</a> <a class="nav-item text-white" href="/licensing">Licensing</a> </footer> <div class="hidden fixed top-0 w-full h-full p-6 md:p-14 backdrop-blur-md cursor-pointer z-20" id="search-container"> <div class="p-4 bg-white dark:bg-slate-800 mx-auto w-full max-h-full sm:w-3/4 lg:w-1/2 content-center rounded-lg shadow-md shadow-slate-200 dark:shadow-none cursor-auto overflow-auto" id="search-box"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-slate-400" fill="none" viewbox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <input type="text" class="w-full h-full pl-4 text-2xl outline-none dark:bg-slate-800" id="search-input" placeholder="Search..."> <span class="hidden lg:block text-sm text-gray-600 text-right tracking-tight ml-2"> <kbd class="bg-gray-200 dark:bg-slate-600 dark:text-gray-200 rounded-md shadow-sm py-1 px-2">Esc</kbd> </span> </div> <div id="results-container"></div> </div> </div> <script src="/assets/js/theme.js" data-no-instant></script> <script src="/assets/js/search.js" data-no-instant></script> <script src="/assets/js/prism.js" data-no-instant></script> <script src="/assets/js/instantclick.min.js" data-no-instant></script> <script data-no-instant>InstantClick.on("change",()=>{setTheme(),Prism.highlightAll(),initCodeBlocks(),window.onscroll=(()=>{setStickyness()}),document.getElementById("search-container").addEventListener("click",t=>{"search-container"===t.target.id&&hideSearch()});const t=window.location.pathname+window.location.search+window.location.hash;gtag("set","page_path",t);const e=document.getElementById("audio-player");if(e)new BeyondWords.Player({projectId:11987,target:e,playerStyle:"large",widgetStyle:"small",contentId:e.dataset.audioId});const a=document.getElementById("comments");if(a){const t={src:"https://giscus.app/client.js","data-repo":"genicsblog/comments","data-repo-id":"R_kgDOG0-Vlw","data-category":"Announcements","data-category-id":"DIC_kwDOG0-Vl84CP8Dz","data-mapping":"pathname","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":`${isDark()?GISCUS_DARK:GISCUS_LIGHT}`,"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");for(key in t)e.setAttribute(key,t[key]);a.appendChild(e)}}),InstantClick.on("receive",()=>{"function"==typeof window.cleanup&&(window.cleanup(),window.cleanup())}),InstantClick.init("mousedown");</script> </body> </html>